import{r,w as p,E as v,q as k,s as $,x as tt,y as et,z as st,c as gt,a as C,j as Nt}from"./index-ba304632.js";const nt="vertical",rt="horizontal",wt=at=>{const{className:ct,value:i,defaultValue:O,min:n=0,max:c=100,step:h=1,range:o=!1,vertical:a=!1,disabled:R=!1,readOnly:m=!1,pieceColor:ot="",trackColor:lt="",trackSize:j="",thumbColor:it="",thumbSize:D="",startThumb:z,endThumb:A,onAfterChange:w,onChange:P,...ut}=at,[dt,M]=r.useState(!1),I=r.useRef(),_=r.useRef(0),L=r.useRef(0),q=r.useRef(0),B=r.useRef(0),b=r.useRef(!1),H=t=>()=>p(v((o?i??O??[n,n]:[n,i??O??n])[t],h),n,c),[S,X]=r.useState(H(0)),[V,Y]=r.useState(H(1)),Z=r.useRef({start:S,end:V}),u=r.useRef({start:S,end:V}),y=r.useRef({start:0,end:0});r.useEffect(()=>{if(i===void 0)return;let[t,e]=o?i:[n,i];t=p(v(t,h),n,c),e=p(v(e,h),n,c),Object.assign(u.current,{start:t,end:e}),X(t),Y(e)},[i,o,n,c]);const[F,ft]=r.useMemo(()=>{const t=c-n,e=(S-n)/t,s=(V-n)/t;return Object.assign(y.current,{start:e,end:s}),[e,s]},[S,V,n,c]),E=k(({x:t,y:e})=>{if(R||m)return;Object.assign(Z.current,u.current);const s=I.current.getBoundingClientRect(),d=_.current=a?s.height:s.width,g=a?s.top:s.left,f=L.current=a?e:t,{start:l,end:N}=y.current,x=f-g;if(o){const vt=Math.abs(x-l*d),Ct=Math.abs(x-N*d);b.current=vt<Ct}q.current=x/d,B.current=b.current?l:N,M(!0)}),G=t=>{t=p(v(t,h/(c-n)),0,1);let{start:e,end:s}=y.current;o?b.current?t>=s?(e=s,s=t,b.current=!1):e=t:t<e?(s=e,e=t,b.current=!0):s=t:s=t;const d=c-n,g=N=>p(v(N*d+n,h),n,c),f=g(e),l=g(s);(u.current.start!==f||u.current.end!==l)&&(Object.assign(u.current,{start:f,end:l}),i===void 0&&(X(f),Y(l)),P==null||P(o?[f,l]:l))},J=k(({x:t,y:e})=>{if(R||m)return;const d=((a?e:t)-L.current)/_.current+B.current;G(d)}),T=k(()=>{if(R||m)return;M(!1);const{start:t,end:e}=Z.current;(u.current.start!==t||u.current.end!==e)&&(w==null||w(o?[t,e]:e))}),K=r.useRef(),Q=r.useRef();$(K,t=>{t.on(tt,E),t.on(et,J),t.on(st,T)},{pan:!0,lockDirection:!1},{direction:a?nt:rt}),$(Q,t=>{t.on(tt,E),t.on(et,J),t.on(st,T)},{pan:!0,lockDirection:!1},{direction:a?nt:rt});const ht=k(t=>{if(R||m)return;const{clientX:e,clientY:s}=t;E({x:e,y:s}),G(q.current),T()}),Rt={width:a?j:"",height:a?"":j,backgroundColor:lt},mt=F*100+"%",bt=(ft-F)*100+"%",St={[a?"top":"left"]:mt,[a?"height":"width"]:bt,backgroundColor:ot},Vt={width:D,height:D,backgroundColor:it},pt=gt("s-slider",{"s-slider-is-down":dt,"s-slider-vertical":a,"s-slider-disabled":R,"s-slider-readonly":m},ct),U=()=>C("div",{className:"s-slider-thumb",style:Vt}),W=t=>t.stopPropagation();return C("div",{...ut,className:pt,children:C("div",{ref:I,className:"s-slider-track",style:Rt,onClick:ht,children:Nt("div",{className:"s-slider-track-piece",style:St,children:[o&&C("div",{ref:K,className:"s-slider-thumb-container s-slider-thumb-container-start",onClick:W,children:z?z(S):U()}),C("div",{ref:Q,className:"s-slider-thumb-container s-slider-thumb-container-end",onClick:W,children:A?A(V):U()})]})})})};export{wt as S};
