var Ln=Object.defineProperty;var Vn=(e,t,s)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Je=(e,t,s)=>(Vn(e,typeof t!="symbol"?t+"":t,s),s);import{r,a as h,j as z,b as Hn,F as we,d as _n}from"./index-093297df.js";import{C as zn,p as On}from"./index.es-471f4c94.js";import{c as V}from"./index-2e4736b8.js";function Xn(e){const[t,s]=r.useState(e),n=r.useRef(),c=r.useCallback((i,a)=>{s(m=>(n.current=a,typeof i=="function"?i(m):i))},[]);return r.useEffect(()=>{typeof n.current=="function"&&n.current(t)},[t]),[t,c]}const Qe="enter",zt="entering",dt="entered",et="exit",Ot="exiting",Oe="exited";function Ie(){}const Bn=e=>{const{children:t,in:s=!1,mountOnEnter:n=!1,unmountOnExit:c=!1,appear:i=!1,enter:a=!0,exit:m=!0,timeout:l,onBeforeEnter:u=Ie,onEnter:o=Ie,onEntering:d=Ie,onEntered:f=Ie,onExit:g=Ie,onExiting:p=Ie,onExited:v=Ie,mergeProps:y,...b}=e,x=r.useRef(!1),w=r.useRef(!1),[C,S]=Xn(()=>s?i?(x.current=!0,Oe):dt:((c||n)&&(w.current=!0),Oe)),E=r.useRef(null),N=()=>{let D,B,O;return D=B=O=l,l!=null&&typeof l!="number"&&(D=l.exit,B=l.enter,O=l.appear??B),{exit:D,enter:B,appear:O}},H=D=>{let B=!0;return E.current=()=>{B&&(B=!1,E.current=null,D())},E.current.cancel=()=>{B=!1},E.current},_=D=>{E.current&&(A(),D?(C===et&&p(),v()):(C===Qe&&d(),f()))},A=()=>{E.current&&(E.current.cancel(),E.current=null)},I=(D,B)=>{H(B),setTimeout(E.current,D||0)};if(r.useEffect(()=>{if(s){if(C!==Qe&&C!==zt&&C!==dt)x.current?x.current=!1:_(s),u(),S(Qe,()=>{o()});else if(C===Qe){S(zt,()=>{d()});const D=N(),B=x.current?D.appear:a?D.enter:0;I(B,()=>{S(dt,()=>{f()})})}}else C!==et&&C!==Ot&&C!==Oe?(_(s),S(et,()=>{g()})):C===et&&(S(Ot,()=>{p()}),I(m?N().exit:0,()=>{S(Oe,()=>{v()})}))}),r.useEffect(()=>(w.current=!1,A),[]),w.current||C===Oe&&c)return null;if(typeof t=="function")return t(C,b);const P=r.Children.only(t);return r.cloneElement(P,y?y(P.props,b):b)};function ke(e){const t=r.useRef();return t.current=e,r.useCallback((...s)=>{const n=t.current;return n==null?void 0:n(...s)},[])}const Yn=e=>{const{className:t,style:s,children:n,visible:c,duration:i=500,onEnter:a,onEntering:m,onEntered:l,onExit:u,onExiting:o,onExited:d,...f}=e,g=r.useRef(0),p=r.useRef(null),v=ke(()=>{a==null||a()}),y=ke(()=>{const N=p.current;if(N){N.classList.add("doc-show");const H=N.offsetHeight;N.style.height="0px",N.offsetHeight,N.style.height=H+"px",N.classList.add("doc-collapsing")}m==null||m()}),b=ke(()=>{const N=p.current;N&&(N.classList.remove("doc-collapsing"),N.style.height=""),l==null||l()}),x=ke(()=>{u==null||u()}),w=ke(()=>{const N=p.current;if(N){const H=N.offsetHeight;N.style.height=H+"px",N.offsetHeight,N.style.height="0px",N.classList.add("doc-collapsing")}o==null||o()}),C=ke(()=>{const N=p.current;N&&(N.classList.remove("doc-show","doc-collapsing"),N.style.height=""),d==null||d()});r.useEffect(()=>(c&&p.current&&p.current.classList.add("doc-show"),()=>{clearTimeout(g.current)}),[]);const S=V("doc-collapse",t),E={...s,transitionDuration:i+"ms"};return h(Bn,{...f,timeout:i,in:c,onEnter:v,onEntering:y,onEntered:b,onExit:x,onExiting:w,onExited:C,children:h("div",{ref:p,className:S,style:E,children:n})})};function Wn(e){const{code:t}=e,[s,n]=r.useState(!1),c=r.useRef(),i=r.useRef(null),a=r.useRef(0),[m,l]=r.useState(!1);return r.useEffect(()=>{let u;return c.current&&(u=new zn(c.current,{text:()=>{var o;return(o=i.current)==null?void 0:o.textContent}}),u.on("success",()=>{l(!0),clearTimeout(a.current),a.current=setTimeout(()=>{l(!1)},1e3)})),()=>{var o;return(o=u==null?void 0:u.destroy)==null?void 0:o.call(u)}},[]),z("div",{className:"doc-code",children:[h("div",{className:"doc-code-header",children:z("div",{className:"doc-code-tool",children:[z("div",{className:"doc-code-tool-item",title:"复制",ref:c,children:[h("span",{className:"doc-code-tool-icon bi-files"}),m&&h("div",{className:"doc-code-copy-success",children:"复制成功"})]}),h("div",{className:"doc-code-tool-item",title:s?"收起代码":"显示代码",onClick:()=>n(!s),children:h("span",{className:"doc-code-tool-icon bi-code-square"})})]})}),h(Yn,{visible:s,children:h("div",{className:"doc-code-body",children:h("pre",{className:"language-jsx",children:h("code",{className:"language-jsx",ref:i,dangerouslySetInnerHTML:{__html:t}})})})})]})}function $n(e){return e.replace(/[^a-zA-Z0-9]/g,"-").replace(/-+/g,"-").toLowerCase()}const{pinyin:Kn}=On;function Fn(e){return e.replace(/<h([123])>(.*?)<\/h\1>/g,(t,s,n)=>{const c=$n(Kn(n,{toneType:"none",nonZh:"consecutive"})),i=`<a class="doc-anchor" href="#${c}">#</a>`;return`<h${s} id="${c}">${n}${i}</h${s}>`})}function mc({children:e}){const{doc:t}=e;return z("div",{className:"doc-card",children:[h("div",{dangerouslySetInnerHTML:{__html:Fn(t.doc)}}),h("div",{className:"doc-demo",children:r.createElement(e)}),h(Wn,{code:t.code})]})}function M(e){const t=r.useRef();return t.current=e,r.useCallback((...s)=>{const n=t.current;return n==null?void 0:n(...s)},[])}function jn(e,t,s){const n=r.useRef(0),c=M(()=>{i(),n.current=setInterval(()=>{e()},t)}),i=M(()=>{n.current&&(clearInterval(n.current),n.current=0)}),a=M(()=>{s&&c()});return r.useEffect(()=>{s?c():i()},[s,t]),r.useEffect(()=>()=>{i()},[]),[a,i]}function Gn(e){const[t,s]=r.useState(e),n=r.useRef(),c=r.useCallback((i,a)=>{s(m=>(n.current=a,typeof i=="function"?i(m):i))},[]);return r.useEffect(()=>{typeof n.current=="function"&&n.current(t)},[t]),[t,c]}function pt(e){const t=r.useRef(e),s=r.useCallback(()=>t.current,[]),n=r.useCallback(f=>{var g;return(g=t.current.find(p=>p[0]===f))==null?void 0:g[1]},[]),c=r.useCallback(f=>t.current.findIndex(g=>g[0]===f),[]),i=r.useCallback(f=>t.current.findIndex(g=>g[1]===f),[]),a=r.useCallback(f=>{var g;return(g=t.current[f])==null?void 0:g[0]},[]),m=r.useCallback(f=>{var g;return(g=t.current[f])==null?void 0:g[1]},[]),l=r.useCallback((f,g)=>{const p=t.current.find(v=>v[0]===f);p?p[1]=g:t.current.push([f,g])},[]),u=r.useCallback(f=>{const g=t.current.findIndex(p=>p[0]===f);g!==-1&&t.current.splice(g,1)},[]),o=r.useCallback(()=>{t.current.length=0},[]);return r.useRef({getData:s,get:n,set:l,remove:u,clear:o,getIndexByName:c,getIndexByValue:i,getKeyByIndex:a,getValueByIndex:m}).current}function Un(e){return e*(2-e)}function qn(e){return--e*e*e+1}function Ae({from:e=0,to:t=0,duration:s=0,step:n=()=>{},finish:c,easing:i=Un}){const a=t-e,m=Date.now();let l=0,u=!1;const o=()=>{u=!0};o.finish=()=>{o(),n(t),c==null||c(t)};const d=()=>{if(u)return;l=pe((Date.now()-m)/s,0,1);const f=i(l)*a+e;if(n(f),l===1)return o(),c==null?void 0:c(f);requestAnimationFrame(d)};return s===0?(n(t),c==null||c(t)):requestAnimationFrame(d),o}class Ne{constructor(t,s=1,n=1){Je(this,"year",0);Je(this,"month",0);Je(this,"date",0);t instanceof Date?(n=t.getDate(),s=t.getMonth()+1,t=t.getFullYear()):typeof t=="string"&&([t,s,n]=t.split(/[^\d]+/).map(c=>+c||0)),this.year=t,this.month=s,this.date=n}copy(t){this.year=t.year,this.month=t.month,this.date=t.date}clone(){return new Ne(this.year,this.month,this.date)}toString(){return this.year.toString().padStart(4,"0")+"-"+this.month.toString().padStart(2,"0")+"-"+this.date.toString().padStart(2,"0")}toNumber(){return this.year*1e4+this.month*100+this.date}toDate(){return new Date(this.year,this.month-1,this.date)}eq(t){return this.date===t.date&&this.month===t.month&&this.year===t.year}gt(t){return this.toNumber()>t.toNumber()}lt(t){return this.toNumber()<t.toNumber()}gte(t){return this.toNumber()>=t.toNumber()}lte(t){return this.toNumber()<=t.toNumber()}}function Zn(e,t){return t===2?e%4===0&&e%100!==0||e%400===0?29:28:[4,6,9,11].includes(t)?30:31}function Jn(e,t){return new Date(e,t-1,1).getDay()}function Qn(e){return/\.(?:jpg|jpeg|png|gif|svg|bmp|webp)$/i.test(e)}function Jt(e){return e.includes("/")}function es(e,t){return new Promise(s=>{if(t==="file"){s();return}const n=new FileReader;n.onload=()=>{s(n.result)},t==="dataUrl"?n.readAsDataURL(e):t==="text"&&n.readAsText(e)})}function Et(e){return Object.prototype.toString.call(e)==="[object Object]"}function pe(e,t,s){return e<t?t:e>s?s:e}function ts(e){return e=e.toString().split(".")[1],e?e.length:0}function ns(e,t=0){return Math.round(+(e+"e"+t))/Math.pow(10,t)}function hc(e,t){return ns(e-e%t+Math.round(e%t/t)*t,ts(t))}function ss(e="s_"){return e+(~~(Math.random()*1e9)).toString(36)}function Xt(e){e.offsetHeight}function Qt(e){return Et(e)&&!("$$typeof"in e)}function en(e,t,s,n){return e<t?t+(e-t)*n:e>s?s+(e-s)*n:e}function Ve(e,t,s,n){const c=t-s;let i,a;return c<0?(i=c,a=0):(i=0,a=c),en(e,i,a,n)}function Bt(e,t,s){const n=t-s,[c,i]=[0,n].sort((a,m)=>a-m);return pe(e,c,i)}function rs(e,t,s){return t>s?[-e,t+e]:[t-s-e,e]}function cs(e,t,s=0,n=-1){const c=e.length;let i=s,a=0;n=-n;for(let m=0;m<c;m++)if(a<0?i=c-1-m:a>0?i=m:(i=i+n*m,a=i===0?1:i===c-1?-1:0,n=-n),typeof t=="function"&&t(e[i],i,m))return i;return s}function as(e,t){return e.length===e.length&&e.every((s,n)=>s===t[n])}function is(e){return e==null||typeof e=="string"&&e.trim()===""}function os(e,t,s={}){let n,c,i,a,m,l,u=0,o=!1,d=!1,f=!0;const g=!t&&t!==0&&typeof requestAnimationFrame=="function";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0,Et(s)&&(o=!!s.leading,d="maxWait"in s,i=d?Math.max(+s.maxWait||0,t):i,f="trailing"in s?!!s.trailing:f);function p(A){const I=n,P=c;return n=c=void 0,u=A,a=e.apply(P,I),a}function v(A,I){return g?(cancelAnimationFrame(m),requestAnimationFrame(A)):setTimeout(A,I)}function y(A){if(g)return cancelAnimationFrame(A);clearTimeout(A)}function b(A){return u=A,m=v(C,t),o?p(A):a}function x(A){const I=A-l,P=A-u,D=t-I;return d?Math.min(D,i-P):D}function w(A){const I=A-l,P=A-u;return l===void 0||I>=t||I<0||d&&P>=i}function C(){const A=Date.now();if(w(A))return S(A);m=v(C,x(A))}function S(A){return m=void 0,f&&n?p(A):(n=c=void 0,a)}function E(){m!==void 0&&y(m),u=0,n=l=c=m=void 0}function N(){return m===void 0?a:S(Date.now())}function H(){return m!==void 0}function _(...A){const I=Date.now(),P=w(I);if(n=A,c=this,l=I,P){if(m===void 0)return b(l);if(d)return m=v(C,t),p(l)}return m===void 0&&(m=v(C,t)),a}return _.cancel=E,_.flush=N,_.pending=H,_}function tn(e,t,s={}){let n=!0,c=!0;if(typeof e!="function")throw new TypeError("Expected a function");return Et(s)&&(n="leading"in s?!!s.leading:n,c="trailing"in s?!!s.trailing:c),os(e,t,{leading:n,trailing:c,maxWait:t})}function pc(e,t,s){let n=e-Math.ceil((s-1)/2),c=e+Math.floor((s-1)/2);const i=1-n,a=c-t;return a>0&&(n-=a),n<1&&(n=1),i>0&&(c+=i),c>t&&(c=t),[n,c]}function nn(e,t,s=0,n){n instanceof HTMLElement&&(s+=n.getBoundingClientRect().top);for(let c=0,i=e.length;c<i;c++){const a=e[c];if(a){const{top:m,bottom:l}=a.getBoundingClientRect();if(c===0&&m>s||m<=s&&l>s||c===i-1)return t(c,a)}}}function Pt(e,t,s){return s.reduce((n,c)=>(n[c]=e[c]??t[c],n),{})}function gc(e,t=!1){t||(e=e.slice());const s=e.length;for(let n=s-1;n>=0;n--){const c=~~(Math.random()*(n+1)),i=e[c];e[c]=e[n],e[n]=i}return e}function ls(e,t){const s=t.width/e.width,n=(e.x+e.width/2-t.x-t.width/2)/(s-1)+e.width/2,c=(e.y+e.height/2-t.y-t.height/2)/(s-1)+e.height/2;return[n,c]}function us(e){const t=/([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))([a-z]+|%|)$/i.exec(String(e))||[0,""];return[+t[1],t[2]]}const Ce=globalThis.wx??globalThis.taro??globalThis;function We(){return globalThis.wx}function sn(e,t=!0){We()?Ce.pageScrollTop({scrollTop:e,duration:t?300:0}):Ce.scrollTo({top:e,behavior:t?"smooth":"instant"})}function ds(e){We()?Ce.onWindowResize(e):(e.__sard_listener=()=>{e({windowWidth:Ce.innerWidth,windowHeight:Ce.innerHeight})},Ce.addEventListener("resize",e.__sard_listener))}function fs(e){We()?Ce.offWindowResize(e):Ce.removeEventListener("resize",e.__sard_listener)}function gt(e,t){if(We())Ce.createSelectorQuery().select("#"+e).boundingClientRect(t).exec();else{const s=document.getElementById(e);s&&t(s.getBoundingClientRect())}}function ms(e,t){if(!t)return;e.style.height="auto";let s=e.scrollHeight;if(t!==!0){const{minHeight:n=0,maxHeight:c=Number.MAX_SAFE_INTEGER}=t;s=Math.min(Math.max(n,s),c)}e.style.height=s+"px"}function hs(e,t,s){const n=M(e);r.useEffect(()=>{const c=tn(n,t,s);return ds(c),()=>{fs(c)}},[])}function rn(e,t,s,n={current:window}){const c=M(e);r.useEffect(()=>{var a;const i=tn(c,t,s);return(a=n.current)==null||a.addEventListener("scroll",i),()=>{var m;(m=n.current)==null||m.removeEventListener("scroll",i)}},[])}function st(e,t,s=()=>!0){const n=r.useRef(0),c=M(e),i=M(s),a=M(()=>{n.current&&(clearTimeout(n.current),n.current=0)}),m=M(()=>{a(),t!==0&&i()&&(n.current=setTimeout(c,t))});return r.useEffect(()=>a,[]),{clear:a,reset:m}}function cn(){return r.useMemo(()=>ss(),[])}const ps="ontouchstart"in window;function Ye(e,t,s,n){return Math.sqrt(Math.pow(e-s,2)+Math.pow(t-n,2))}function an(e,t,s,n){const c=Math.atan2(t-n,s-e)/Math.PI*180;return c<0?c+360:c}function gs(e){return e<=45||e>=315?"right":e>45&&e<135?"up":e>=135&&e<=225?"left":"down"}function vt(e,t,s,n){return gs(an(e,t,s,n))}function vs(e){return"touches"in e?e.touches.length:0}function ys(e,t){return e>t?"horizontal":"vertical"}const Yt="mousemove mouseup";function bs(e,t){return e.lockDirection?e.direction==="all"||e.direction===t.lockDirection:e.direction!=="none"}function Ns(e,t,s,n){let c=!1,i="pending";return a=>{const m=a.type;let l;const u="touches"in a;if(!(ps&&!u))switch(u?l=Array.from(a.changedTouches).map(o=>({clientX:o.clientX,clientY:o.clientY,identifier:o.identifier,target:o.target})):l=[{clientX:a.clientX,clientY:a.clientY,identifier:0,target:a.target}],m){case"touchstart":case"mousedown":u||(c=!0),e.add(a.currentTarget,l,o=>{o.firstFinger&&(s.pan.down(a,o),s.press.down(a,o)),(n.rotate||n.pinch)&&t.update(l)&&(m==="mousedown"&&a.preventDefault(),s.pinch.down(a,o),s.rotate.down(a,o))});break;case"touchmove":case"mousemove":if(!u&&!c)return;i==="correct"&&m==="mousemove"&&a.preventDefault(),e.update(l,o=>{o.firstFinger&&((n.swipe||n.pan)&&(i==="pending"&&(bs(n,o)?(o.expectedDirection=!0,i="correct"):i="incorrect"),i==="correct"&&s.pan.move(a,o)),s.press.move(a,o)),(n.rotate||n.pinch)&&t.isPaired()&&t.isMove(l)&&(m==="mousemove"&&a.preventDefault(),s.pinch.move(a,o),s.rotate.move(a,o))});break;case"touchend":case"touchcancel":case"mouseup":if(!u&&!c)return;u||(c=!1),i="pending",e.update(l,o=>{o.firstFinger&&(s.tap.up(a,o),s.swipe.up(a,o),s.pan.up(a,o),s.press.up(a,o)),(n.rotate||n.pinch)&&t.remove(l,a,d=>{s.pinch.up(a,o,d),s.rotate.up(a,o,d)})}),e.remove(l);break}}}function xs(e,t,s){t.split(" ").forEach(n=>{e.addEventListener(n,s,!1)})}function Cs(e,t,s){t.split(" ").forEach(n=>{e.removeEventListener(n,s,!1)})}function ws(e,t,s,n){const c=Ns(e,t,s,n);function i(){typeof window=="object"&&xs(window,Yt,c)}function a(){typeof window=="object"&&Cs(window,Yt,c)}return{init:i,destroy:a,handler:c}}function on(e,t,s,n){const c=Date.now();return{eventTarget:e,currentTarget:t,target:null,startX:s,startY:n,recordX:s,recordY:n,x:s,y:n,tracks:[{x:s,y:n,time:c}],startTime:c,time:c,deltaX:0,deltaY:0,movementX:0,movementY:0,pressTimer:0,isPress:!1,lockDirection:"",expectedDirection:!1,direction:"",firstFinger:!1}}function yt(e,t,s,n){e.time=Date.now(),e.x=t,e.y=s,e.deltaX=t-e.startX,e.deltaY=s-e.startY,e.movementX=Math.abs(e.deltaX),e.movementY=Math.abs(e.deltaY),(e.lockDirection===""||e.movementX<n&&e.movementY<n)&&(e.lockDirection=ys(e.movementX,e.movementY))}function Ss(e,t){const s={};let n=-1;function c(v,y,b){y.forEach(x=>{n===-1&&(n=y[0].identifier);const w=x.clientX,C=x.clientY,S=on(e,v,w,C);S.target=x.target,S.firstFinger=n===x.identifier,s[x.identifier]=S,b&&b(S)})}function i(v,y){v.forEach(b=>{const x=s[b.identifier];if(!x)return;const w=b.clientX,C=b.clientY;yt(x,w,C,t.lockDirectionDistance),y&&y(x)})}function a(v,y){const b=v.tracks,x=Date.now();b.push({x:v.x,y:v.y,time:x}),b.length>3&&b.shift(),y&&y(v)}function m(v){v.forEach(y=>{y.identifier===n&&(n=-1),delete s[y.identifier]})}function l(v){return Ye(v.startX,v.startY,v.x,v.y)}function u(v){return Ye(v.recordX,v.recordY,v.x,v.y)}function o(v){return vt(v.startX,v.startY,v.x,v.y)}function d(v){return vt(v.recordX,v.recordY,v.x,v.y)}function f(v){return v.time-v.startTime}function g(){for(const v in s)delete s[v]}function p(){return Object.keys(s).length}return{knocks:s,add:c,remove:m,update:i,track:a,getStartDistance:l,getRecordDistance:u,getDirectionWhenEnd:o,getDirectionWhenMoving:d,getExpires:f,clear:g,count:p}}const ln="up",Es="right",un="down",Ps="left",Rt="start",rt="move",Tt="end",Rs="tap",dn="doubletap",It="press",Ts=It+un,Is=It+rt,Ds=It+ln,$e="pan",Ke=$e+Rt,Fe=$e+rt,xe=$e+Tt,bt="swipe",je=$e+bt,Nt=je+ln,ft=je+Es,nt=je+un,As=je+Ps,Ge="pinch",fn=Ge+Rt,mn=Ge+rt,hn=Ge+Tt,Ms=Ge+"in",ks=Ge+"out",Dt="rotate",Ls=Dt+Rt,Vs=Dt+rt,Hs=Dt+Tt;function _s(e,t,s,n){const{emit:c}=s;let i=0,a,m,l=0;function u(o,d,f){c(d.eventTarget,o,{...d,type:o,originalEvent:f})}return{tap:{up(o,d){n.tap&&e.getExpires(d)<=n.tapMaxTime&&e.getStartDistance(d)<=n.tapMaxDistance&&(u(Rs,d,o),l++,l===2&&(d.startTime-i<=n.doubleTabMaxTime&&Ye(a,m,d.startX,d.startY)<=n.doubleTabMaxDistance?(u(dn,d,o),l=0):l--),i=Date.now(),a=d.x,m=d.y)}},press:{down(o,d){n.press&&(d.pressTimer=setTimeout(function(){e.getStartDistance(d)<=n.pressMaxDistance&&(o.type==="mousedown"&&o.preventDefault(),d.isPress=!0,u(Ts,d,o))},n.pressMinTime))},move(o,d){n.press&&d.isPress&&(o.type==="mousemove"&&o.preventDefault(),u(Is,d,o))},up(o,d){n.press&&(d.pressTimer&&(clearTimeout(d.pressTimer),d.pressTimer=0),d.isPress&&(d.isPress=!1,u(Ds,d,o)))}},swipe:{up(o,d){if(n.swipe&&e.getExpires(d)<=n.swipeMaxTime&&e.getStartDistance(d)>=n.swipeMinDistance){const f=e.getDirectionWhenEnd(d),g={...d,direction:f};u(bt,g,o),u(bt+f,g,o)}}},pan:{down(o,d){n.pan&&u(Ke,{...d,swipe:!1},o)},move(o,d){if(n.pan&&e.getRecordDistance(d)>=n.panMinDistance){const f=d.direction=e.getDirectionWhenMoving(d),g={...d,swipe:!1,direction:f};e.track(d),u(Fe,g,o),u($e+f,g,o),d.recordX=d.x,d.recordY=d.y}},up(o,d){if(!n.pan)return;e.track(d);const f=d.tracks,g=f[0],p=f[f.length-1],v={...d,speed:0,speedX:0,speedY:0,inertia:0,inertiaX:0,inertiaY:0,swipe:!1};if(f.length>2){const y=Ye(g.x,g.y,p.x,p.y);y>n.panMinDistance&&(v.inertia=y,v.speed=y/(p.time-g.time));const b=p.x-g.x;Math.abs(b)>n.panMinDistance&&(v.inertiaX=b,v.speedX=b/(p.time-g.time));const x=p.y-g.y;Math.abs(x)>n.panMinDistance&&(v.inertiaY=x,v.speedY=x/(p.time-g.time))}if(v.speed>=n.panSwipeMinSpeed){const y=vt(g.x,g.y,p.x,p.y);v.direction=y,v.swipe=!0,u(je+y,v,o)}u(xe,v,o)}},rotate:{down(o,d){n.rotate&&(t.startAngle=t.getAngle(),u(Ls,{degrees:0},o))},move(o,d){if(!n.rotate)return;t.degrees=t.getAngle()-t.startAngle;let f=0;for(;Math.abs(t.degrees-t.beforeDegrees)>90&&f++<50;)t.beforeDegrees<0?t.degrees-=180:t.degrees+=180;t.degrees!==t.beforeDegrees&&(t.beforeDegrees=t.degrees,u(Vs,{degrees:t.degrees},o))},up(o,d){n.rotate&&(t.beforeDegrees=0,u(Hs,{degrees:t.degrees},o))}},pinch:{down(o,d){if(!n.pinch)return;t.beforeDistance=t.startDistance=t.getDistance();const[f,g]=t.getOrigin(),p=on(d.eventTarget,d.currentTarget,f,g);t.originKnock=p,u(fn,{scale:1,previews:t.identifiers[0],next:t.identifiers[1],...p},o)},move(o,d){if(!n.pinch)return;t.distance=t.getDistance();const f=t.distance-t.beforeDistance>=n.pinchMinDistance,g=t.beforeDistance-t.distance>=n.pinchMinDistance;if(f||g){t.scale=t.distance/t.startDistance;const p=t.originKnock,[v,y]=t.getOrigin();yt(p,v,y,n.lockDirectionDistance);const b={scale:t.scale,previews:t.identifiers[0],next:t.identifiers[1],...p};u(mn,b,o),f?u(ks,b,o):g&&u(Ms,b,o),t.beforeDistance=t.distance}},up(o,d,f){if(!n.pinch)return;const g=t.originKnock,[p,v]=t.getOrigin(f);yt(g,p,v,n.lockDirectionDistance);const y={scale:t.scale,previews:f[0],next:f[1],...g};u(hn,y,o)}}}}function zs(){const e=new WeakMap,t=(i,a,m)=>{let l,u;i&&((l=e.get(i))||e.set(i,l={}),(u=l[a])||(u=l[a]=new Set),u.add(m))},s=(i,a,m)=>{let l,u;if(i&&(l=e.get(i))){if(!a)return e.delete(i);if(u=l[a]){if(!m){delete l[a],Object.keys(l).length===0&&s(i);return}u.delete(m),u.size===0&&s(i,a)}}};return{on:t,off:s,emit:(i,a,m)=>{let l,u;i&&(l=e.get(i))&&(u=l[a])&&u.forEach(o=>{o(m)})},once:(i,a,m)=>{}}}function Os(e){const t=[];let s=null;function n(){return t.length===2}function c(d){const f=t.length;switch(f){case 0:s=d[0].target,t.push(d[0].identifier),d.length>1&&t.push(d[1].identifier);break;case 1:t.push(d[0].identifier);break}return f!==t.length&&t.length===2}function i(d,f,g){const p=t.length,v=t.slice();let y=0,b=0,x;for(;x=d[y++];)for(;b<p;)x.identifier===t[b++]&&t.splice(--b,1);const w=p!==t.length;vs(f)===0&&(t.length=0),w&&p===2&&g(v)}function a(){const d=e[t[0]],f=e[t[1]];return Ye(d.x,d.y,f.x,f.y)}function m(){const d=e[t[0]],f=e[t[1]];return~~an(d.x,d.y,f.x,f.y)}function l(d){return d.some(f=>t.some(g=>g===f.identifier))}function u(d=t){const f=e[d[0]],g=e[d[1]];return[(f.x+g.x)/2,(f.y+g.y)/2]}function o(){t.length=0}return{identifiers:t,beforeDistance:0,startDistance:0,distance:0,scale:0,startAngle:0,beforeDegrees:0,degrees:0,getTarget:()=>s,isPaired:n,update:c,remove:i,getDistance:a,getAngle:m,isMove:l,getOrigin:u,clear:o,originKnock:null}}const Xs={direction:"all",lockDirection:!1,lockDirectionDistance:8,tap:!1,tapMaxTime:650,tapMaxDistance:5,doubletap:!1,doubleTabMaxTime:300,doubleTabMaxDistance:45,press:!1,pressMinTime:650,pressMaxDistance:5,swipe:!1,swipeMaxTime:300,swipeMinDistance:30,pan:!1,panMinDistance:5,panSwipeMaxTime:300,panSwipeMinDistance:30,panSwipeMinSpeed:.3,rotate:!1,pinch:!1,pinchMinDistance:5,init:!0};function Bs(e){const t=Object.assign({},Xs,e);let s=!1;const n={};function c(y,b){l.on(n,y,b)}function i(y,b){l.once(n,y,b)}function a(y,b){l.off(n,y,b)}function m(y,b){l.off(n,y,b)}const l=zs(),u=Ss(n,t),o=Os(u.knocks),d=_s(u,o,l,t),f=ws(u,o,d,t);function g(){s||(f.init(),s=!0)}function p(){s&&(f.destroy(),l.off(n),u.clear(),o.clear(),s=!1)}function v(y){Object.assign(t,y)}return t.init&&g(),{on:c,once:i,off:a,emit:m,init:g,destroy:p,configure:v,handler:f.handler}}function He(e,t={},s=!0){const n=r.useRef(),c=r.useRef();r.useEffect(()=>(n.current=Bs({...t,init:!1}),()=>{var a;(a=n.current)==null||a.destroy()}),[]),r.useEffect(()=>{n.current&&(s?(n.current.init(),c.current=e(n.current)):(n.current.destroy(),typeof c.current=="function"&&(c.current(),c.current=null)))},[s]);const i=r.useCallback(a=>{var m;(m=n.current)==null||m.handler(a)},[]);return r.useEffect(()=>{var a;(a=n.current)==null||a.configure(t)},[t]),{onTouchStart:i,onTouchMove:i,onTouchEnd:i,onTouchCancel:i,onMouseDown:i}}function Ys(e){const t=r.useCallback(a=>{e.forEach(m=>m.onTouchStart(a))},[]),s=r.useCallback(a=>{e.forEach(m=>m.onTouchMove(a))},[]),n=r.useCallback(a=>{e.forEach(m=>m.onTouchEnd(a))},[]),c=r.useCallback(a=>{e.forEach(m=>m.onTouchCancel(a))},[]),i=r.useCallback(a=>{e.forEach(m=>m.onMouseDown(a))},[]);return{onTouchStart:t,onTouchMove:s,onTouchEnd:n,onTouchCancel:c,onMouseDown:i}}function Ws(){const[,e]=r.useState({});return r.useCallback(()=>{e({})},[])}function ve(e,t={}){const{defaultValue:s,defaultValuePropName:n="defaultValue",valuePropName:c="value",trigger:i="onChange",preset:a}=t,m=e[c],l=m!=null,u=r.useRef(r.useMemo(()=>{const f=l?m:e[n]??(typeof s=="function"?s():s);return a?a(f):f},[]));l&&(u.current=a?a(m):m);const o=Ws();function d(f,...g){var v;const p=typeof f=="function"?f(u.current):f;p!==u.current&&(l||(u.current=p,o()),(v=e[i])==null||v.call(e,p,...g))}return[u.current,M(d)]}function $s(e){const t=r.useRef(),s=r.useRef(!1);return s.current||(t.current=e(),s.current=!0),t}const ue=e=>{const{className:t,style:s,name:n="",prefix:c,size:i="",color:a="",...m}=e,l=r.useMemo(()=>Jt(n),[n]),u=V("s-icon",{[c]:c&&!l,[c?`${c}-${n}`:n]:!l},t),o={fontSize:i,color:a,...s};return h("i",{...m,className:u,style:o,children:l&&h("img",{className:"s-icon-image",src:n})})},Wt="entering",mt="entered",$t="exiting",Xe="exited";function Le(){}const pn=e=>{const{children:t,in:s=!1,mountOnEnter:n=!1,unmountOnExit:c=!1,appear:i=!1,enter:a=!0,exit:m=!0,timeout:l,onEnter:u=Le,onEntering:o=Le,onEntered:d=Le,onExit:f=Le,onExiting:g=Le,onExited:p=Le,mergeProps:v,...y}=e,b=r.useRef(!1),x=r.useRef(!1),[w,C]=Gn(()=>s?i?(b.current=!0,Xe):mt:((c||n)&&(x.current=!0),Xe)),S=r.useRef(null),E=()=>{let P,D,B;return P=D=B=l,l!=null&&typeof l!="number"&&(P=l.exit,D=l.enter,B=l.appear??D),{exit:P,enter:D,appear:B}},N=P=>{let D=!0;return S.current=()=>{D&&(D=!1,S.current=null,P())},S.current.cancel=()=>{D=!1},S.current},H=P=>{S.current&&(_(),P?p==null||p():d==null||d())},_=()=>{S.current&&(S.current.cancel(),S.current=null)},A=(P,D)=>{N(D),setTimeout(S.current,P||0)};if(r.useEffect(()=>{s?w!==Wt&&w!==mt&&(b.current?b.current=!1:H(s),u==null||u(),C(Wt,()=>{o==null||o();const P=E(),D=b.current?P.appear:a?P.enter:0;A(D,()=>{C(mt,()=>{d==null||d()})})})):w!==$t&&w!==Xe&&(H(s),f==null||f(),C($t,()=>{g==null||g(),A(m?E().exit:0,()=>{C(Xe,()=>{p==null||p()})})}))}),r.useEffect(()=>(x.current=!1,_),[]),x.current||w===Xe&&c)return null;if(typeof t=="function")return t(w,y);if(!t)return null;const I=r.Children.only(t);return r.cloneElement(I,v?v(I.props,y):y)},ht="s-show",tt="s-collapsing",Ks=e=>{const{className:t,style:s,children:n,visible:c,duration:i=500,onEnter:a,onEntering:m,onEntered:l,onExit:u,onExiting:o,onExited:d,...f}=e,g=r.useRef(0),p=r.useRef(null),v=M(()=>{a==null||a()}),y=M(()=>{const N=p.current;if(N){N.classList.add(ht);const H=N.offsetHeight;N.style.height="0px",Xt(N),N.style.height=H+"px",N.classList.add(tt)}m==null||m()}),b=M(()=>{const N=p.current;N&&(N.classList.remove(tt),N.style.height=""),l==null||l()}),x=M(()=>{u==null||u()}),w=M(()=>{const N=p.current;if(N){const H=N.offsetHeight;N.style.height=H+"px",Xt(N),N.style.height="0px",N.classList.add(tt)}o==null||o()}),C=M(()=>{const N=p.current;N&&(N.classList.remove(ht,tt),N.style.height=""),d==null||d()});r.useEffect(()=>(c&&p.current&&p.current.classList.add(ht),()=>{clearTimeout(g.current)}),[]);const S=V("s-collapse",t),E={...s,transitionDuration:i+"ms"};return h(pn,{...f,timeout:i,in:c,onEnter:v,onEntering:y,onEntered:b,onExit:x,onExiting:w,onExited:C,children:h("div",{ref:p,className:S,style:E,children:n})})},Fs=e=>{const{className:t,children:s,title:n,icon:c,innerKey:i,activeKey:a,disabled:m,duration:l=300,onClick:u,...o}=e,d=p=>{m||u==null||u(p)},f=Array.isArray(a)?a.includes(i):i===a,g=V("s-accordion-item",{"s-accordion-item-active":f,"s-accordion-item-disabled":m},t);return z("div",{...o,className:g,children:[z("div",{className:"s-accordion-item-header",onClick:d,children:[h("div",{className:"s-accordion-item-title",children:n}),h("div",{className:"s-accordion-item-icon",children:typeof c=="function"?c(f):c??h(ue,{className:"s-accordion-item-arrow",prefix:"si",name:"down"})})]}),h(Ks,{duration:l,visible:f,className:"s-accordion-item-wrapper",children:h("div",{className:"s-accordion-item-content",children:s})})]})},js=e=>{const{className:t,children:s,defaultActiveKey:n,activeKey:c,multiple:i=!1,duration:a,onChange:m,...l}=e,[u,o]=ve(e,{defaultValuePropName:"defaultActiveKey",valuePropName:"activeKey",defaultValue:i?[]:""}),d=g=>{let p;Array.isArray(u)?p=u.includes(g)?u.filter(v=>v!==g):[...u,g]:p=g!==u?g:"",o(p),m==null||m(p)},f=V("s-accordion",t);return h("div",{...l,className:f,children:r.Children.map(s,(g,p)=>{const v=g.key??p;return r.cloneElement(g,{innerKey:v,activeKey:u,duration:g.props.duration??a,onClick:()=>d(v)})})})};js.Item=Fs;const Gs=e=>{const{className:t,children:s,gap:n,direction:c="right",maxCount:i=5,...a}=e,m=V("s-avatar-group",t),l=r.Children.count(s);return z("div",{...a,className:m,children:[r.Children.map(s,(u,o)=>o>i-1?null:r.cloneElement(u,{style:{marginLeft:o===0?0:n,zIndex:c==="left"?l-o:void 0}})),l>i&&z(gn,{className:"s-avatar-rest",children:["+",l-i]})]})},gn=e=>{const{className:t,style:s,children:n,shape:c="circle",size:i,iconSize:a,src:m,iconProps:l,extra:u,...o}=e,d=V("s-avatar","s-avatar-"+c,t),f={width:i,height:i,fontSize:a,...s};return z("div",{...o,className:d,style:f,children:[n||(m?h("img",{src:m,className:"s-avatar-img"}):h(ue,{prefix:"si",name:"person"})),u]})};gn.Group=Gs;const xt=e=>{const{type:t="fade",name:s,onEnter:n,onEntering:c,onEntered:i,onExit:a,onExiting:m,onExited:l,...u}=e,o="s-transition-"+t,[d,f]=r.useState(""),g=(...S)=>{f(S.map(E=>(s||o)+"-"+E).join(" "))};return h(pn,{...u,className:d,onEnter:()=>{g("enter"),n==null||n()},onEntering:()=>{g("enter","entering"),c==null||c()},onEntered:()=>{g("entered"),i==null||i()},onExit:()=>{g("exit"),a==null||a()},onExiting:()=>{g("exit","exiting"),m==null||m()},onExited:()=>{g("exited"),l==null||l()},mergeProps:(S,E)=>(E.className=V(S.className,E.className),Object.assign({},S,E))})},Us={top:"slide-top",right:"slide-right",bottom:"slide-bottom",left:"slide-left",center:"zoom","center-fade":"fade"},Me=e=>{const{className:t,style:s,children:n,visible:c=!1,lockScroll:i=!0,zIndex:a,duration:m=300,placement:l="center",mask:u=!0,maskClass:o,maskStyle:d,container:f=document.body,onMaskClick:g,onEnter:p,onEntering:v,onEntered:y,onExit:b,onExiting:x,onExited:w,...C}=e,[S,E]=r.useState(c),[N,H]=r.useState(!c),_=M(k=>{g==null||g(k)}),A=M(()=>{H(!1),E(!0),i&&document.body.classList.add("popup-lock-scroll"),p==null||p()}),I=M(()=>{v==null||v()}),P=M(()=>{y==null||y()}),D=M(()=>{H(!0),i&&document.body.classList.remove("popup-lock-scroll"),b==null||b()}),B=M(()=>{x==null||x()}),O=M(()=>{H(!1),E(!1),w==null||w()}),K=r.useRef(null),W=V("s-popup",{"s-popup-visible":S,"s-popup-hiding":N}),L={zIndex:a},te=V("s-popup-dialog",`s-popup-${l}`),Q=V("s-popup-content",t),T=z("div",{className:W,style:L,children:[h(xt,{in:c,timeout:m,type:"fade",children:u?h("div",{className:V("s-popup-mask",o),style:{...d},onClick:_}):null}),h("div",{className:te,ref:K,children:h(xt,{in:c,timeout:m,type:Us[l],onEnter:A,onEntering:I,onEntered:P,onExit:D,onExiting:B,onExited:O,children:h("div",{...C,className:Q,style:{...s},children:n})})})]});return We()?T:Hn.createPortal(T,f)},qs=Array(12).fill(0).map((e,t)=>h("div",{className:"s-loading-scale"},t)),Zs=h("svg",{viewBox:"25 25 50 50",children:h("circle",{cx:"50",cy:"50",r:"22",fill:"none"})}),At=e=>{const{className:t,style:s,children:n,type:c="spinner",color:i="",size:a="",text:m="",vertical:l=!1,...u}=e,o=V("s-loading",{"s-loading-vertical":l},t),d={color:i,...s},f=V("s-loading-icon","s-loading-"+c),g={fontSize:a},p=()=>h("div",{className:f,style:g,children:c==="spinner"?Zs:c==="clock"?qs:null}),v=()=>(n||m)&&h("div",{className:"s-loading-text",children:n||m});return z("div",{...u,className:o,style:d,children:[p(),v()]})},Js=r.memo(e=>{const{className:t,children:s,value:n=0,max:c=99,showZero:i=!1,color:a,isDot:m,fixed:l,...u}=e,d=V("s-badge",{"s-badge-fixed":l,"s-badge-is-dot":m,"s-badge-zero-hide":!m&&n===0&&!i},t),f=V("s-badge-content",{"s-badge-fixed":!l&&!is(s)});return z("div",{...u,className:d,children:[s,h("div",{className:f,style:{backgroundColor:a},children:m?"":typeof n=="number"&&n>c?`${c}+`:n})]})}),Pe=e=>{const{className:t,children:s,type:n="default",theme:c="primary",size:i="medium",round:a=!1,block:m=!1,disabled:l=!1,loading:u=!1,loadingText:o,loadingProps:d,onClick:f,...g}=e,p=y=>{!l&&!u&&(f==null||f(y))},v=V("s-button","s-button-"+c,{["s-button-"+n]:n!=="default",["s-button-"+i]:i!=="medium","s-button-round":a,"s-button-block":m,"s-button-disabled":l,"s-button-loading":u},t);return h("button",{...g,className:v,disabled:l,onClick:p,children:h("div",{className:"s-button-content",children:u?z(we,{children:[h(At,{...d}),o&&h("span",{className:"s-button-loading-text",children:o})]}):s})})},Qs=["日","一","二","三","四","五","六"],er=()=>new Ne(new Date),tr=()=>{const e=new Date;return e.setMonth(e.getMonth()+6),new Ne(e)},vc=r.forwardRef((e,t)=>{const{className:s,style:n,children:c,min:i,max:a,title:m,disabledDate:l,type:u="single",value:o,defaultValue:d,onChange:f,...g}=e,p=r.useRef({}),v=r.useMemo(()=>i?new Ne(i):er(),[i]),y=r.useMemo(()=>{const I=a?new Ne(a):tr();return I.lt(v)?v.clone():I},[a]),b=r.useMemo(()=>v.year*12+v.month,[i]),x=r.useMemo(()=>y.year*12+y.month,[a]),w=I=>{const P=b+I;return[Math.ceil(P/12-1),P%12||12]},C=I=>(Array.isArray(I)?I:[I]).map(P=>new Ne(P)),[S,E]=r.useState(()=>{const I=o??d;return C(I??[])});r.useEffect(()=>{o!=null&&E(C(o))},[o]);const N=(I,P)=>{if(!P){if(u==="single")o==null&&E([I]),f==null||f(I.toString());else if(u==="multiple"){const D=S.some(B=>B.eq(I))?S.filter(B=>!B.eq(I)):S.concat(I);o==null&&E(D),f==null||f(D.map(B=>B.toString()))}else if(u==="range"){const D=S.length===1?S.concat(I).sort((B,O)=>B.toNumber()-O.toNumber()):[I];o==null&&E(D),D.length===2&&(f==null||f(D.map(B=>B.toString())))}}},H=V("s-calendar",s),_=M(I=>{const P=p.current[I];P&&setTimeout(()=>{P.scrollIntoView(!0)})});r.useImperativeHandle(t,()=>({scrollToDate:_}));const A=([I,P])=>{const D=Zn(I,P);let B,O;return z("div",{className:"s-calendar-month",children:[z("div",{className:"s-calendar-month-title",children:[I,"年",P,"月"]}),z("div",{className:"s-calendar-month-body",children:[Array(D).fill(0).map((K,W)=>{const L=B??new Ne(I,P,W+1),te=O??S.some(k=>k.eq(L));W<D-1?(B=new Ne(I,P,W+2),O=S.some(k=>k.eq(B))):B=O=void 0;let Q=!1;l&&(Q=l(L.toDate(),L.toString())),(L.lt(v)||L.gt(y))&&(Q=!0);const T=L.toString();return h("div",{ref:k=>p.current[T]=k,className:V("s-calendar-day",{"s-calendar-day-selected":te,"s-calendar-day-next-selected":te&&O,"s-calendar-day-start":u==="range"&&S[0]&&S[0].eq(L),"s-calendar-day-end":u==="range"&&S[1]&&S[1].eq(L),"s-calendar-day-middle":u==="range"&&S.length===2&&L.gt(S[0])&&L.lt(S[1]),"s-calendar-day-disabled":Q}),style:{gridColumnStart:W===0?Jn(I,P)+1:""},onClick:()=>N(L,Q),children:W+1},W)}),h("div",{className:"s-calendar-month-mark",children:P})]})]},I*100+P)};return z("div",{...g,className:H,children:[z("div",{className:"s-calendar-header",children:[m&&h("div",{className:"s-calendar-title",children:m}),h("div",{className:"s-calendar-week",children:Qs.map(I=>h("div",{className:"s-calendar-week-item",children:I},I))})]}),h("div",{className:"s-calendar-body",children:Array(x-b+1).fill(0).map((I,P)=>A(w(P)))}),h("div",{className:"s-calendar-footer"})]})}),Mt=r.forwardRef((e,t)=>{const{className:s,children:n,...c}=e,i=V("s-swiper-item",s);return h("div",{...c,className:i,ref:t,children:n})}),nr=e=>{const{className:t,style:s,size:n=0,activeIndex:c=0,color:i,activeColor:a,clickable:m=!1,onClick:l,...u}=e,o=V("s-swiper-dots",{"s-swiper-dot-clickable":m},t);return h("div",{...u,className:o,children:Array(n).fill(0).map((d,f)=>h("div",{className:V("s-swiper-dot",{"s-swiper-dot-active":f===c}),style:{backgroundColor:f===c?a:i},onClick:()=>l==null?void 0:l(f)},f))})},Kt="deltaY",Ft="deltaX",sr="clientHeight",rr="clientWidth",cr="vertical",ar="horizontal",kt=r.forwardRef((e,t)=>{const{className:s,style:n,children:c,defaultIndex:i=0,autoplay:a=!1,interval:m=1500,duration:l=400,circular:u=!1,vertical:o=!1,easing:d="ease-out",damping:f=3,showDots:g=!1,dots:p,dotColor:v,dotActiveColor:y,dotClickable:b=!1,onChange:x,onAnimateStart:w,onAnimateEnd:C,onTransitionStart:S,onTransitionEnd:E,onTouchStart:N,onTouchMove:H,onTouchEnd:_,touchable:A=!0,...I}=e,P=r.useRef(null),D=r.useRef(null),B=r.useRef(0),O=r.useRef([]),K=r.useRef(!0),[W,L]=r.useState(i),te={transitionTimingFunction:d},Q=V("s-swiper",{"s-swiper-vertical":o,"s-swiper-touchable":A},s),T=r.Children.count(c),k=(F,q)=>{F.style.transform=`translate${o?"Y":"X"}(${q*100}%) translateZ(0)`},X=F=>{B.current=F,P.current&&k(P.current,F)},J=()=>{var F;D.current&&((F=D.current)==null||F.call(D),D.current=null,C==null||C())},ee=(F,q)=>{J(),K.current=!1,w==null||w(),D.current=Ae({from:B.current,to:F,duration:q,step(Z){u&&$(Z),X(Z)},finish(){D.current=null,K.current=!0,C==null||C()}})},$=F=>{const q=O.current,Z=q.length;if(F<0){F-=.5;const ae=(-F+1)%Z,ie=Math.floor((-F+1)/Z),oe=Math.ceil(ae/1);q.forEach((me,ge)=>{const ye=ge<oe?ie:ie-1;k(me,Z*ye)})}else{F+=.5;const ae=F%Z,ie=Math.ceil(F/Z),oe=Math.ceil(ae/1);q.forEach((me,ge)=>{const ye=Z-ge<=oe?ie:ie-1;k(me,-Z*ye)})}},R=r.useRef(0),j=r.useRef(0),G=r.useRef(0),ce=r.useRef(0),se=r.useRef(!1),Y=M(F=>{ne(),J(),N==null||N(F);const q=F.target,Z=P.current;O.current=Array.from(Z.children);const ae=Z.getBoundingClientRect(),ie=q.getBoundingClientRect(),oe=o?"height":"width",me=o?sr:rr,ge=o?"top":"left",ye=(ie[oe]-q[me])/2;G.current=q[me],j.current=G.current*(r.Children.count(c)||1);const be=ae[ge]-ie[ge]-ye;R.current=be,u||(R.current=Ve(be,G.current,j.current,f))}),re=M(F=>{H==null||H(F),se.current=!0;let q=R.current+F[o?Kt:Ft];u?$(q/G.current):q=Ve(q,G.current,j.current,1/f||0),X(q/G.current)}),le=M(F=>{const q=F.type;if(_==null||_(F),q===xe&&F.swipe)return;if(!se.current){K.current||ee(u?-ce.current:-W,l),U();return}if(se.current=!1,!F.expectedDirection)return;let Z=0,ae=0;const ie=B.current,oe=r.Children.count(c),me=R.current+F[o?Kt:Ft];if(oe>0)if(u){const ge=me%j.current,ye=ge<0?1:-1,be=ge/G.current,_t=oe+be*ye;ae=_t<.5?_t*ye:be,X(ae),$(ae),ce.current=Z=-Math[q===xe?"round":q===ft||q===nt?"ceil":"floor"](ae)}else me>0?Z=0:(Z=Math.abs(Math[q===xe?"round":q===ft||q===nt?"ceil":"floor"](me/G.current)),Z>oe-1&&(Z=oe-1)),q===xe&&!F.expectedDirection&&(B.current=ie,Z=W);ee(-Z,l),u&&(Z<0?Z+=oe:Z>=oe&&(Z=0)),L(Z),U()}),fe=He(F=>{F.on(Ke,Y),F.on(Fe,re),F.on(xe,le),F.on(As,le),F.on(ft,le),F.on(Nt,le),F.on(nt,le)},{pan:!0,direction:o?cr:ar,lockDirection:!0},A),Se=(F,q=!0)=>{const Z=P.current;if(Z){const ae=r.Children.count(c);ae===0||F<0?F=0:F>ae-1&&(F=ae-1),O.current=Array.from(Z.children),L(F),ee(-F,q?l:0)}},[U,ne]=jn(()=>{Ee()},m,a);r.useEffect(()=>(Se(W,!1),()=>{J()}),[]),r.useEffect(()=>{x==null||x(W)},[W]);const de=M((F,q=!0)=>{Se(F,q)}),he=M(F=>{let q=W;(q-=1)<0&&(q=r.Children.count(c)-1),de(q,F)}),Ee=M(F=>{const q=r.Children.count(c)-1;let Z=W;(Z+=1)>q&&(Z=0),de(Z,F)});return r.useImperativeHandle(t,()=>({swipeTo:de,prev:he,next:Ee})),z("div",{...I,...fe,className:Q,children:[h("div",{ref:P,className:"s-swiper-wrapper",style:te,children:c}),T!==0&&g&&(p&&p(T,W)||h(nr,{size:T,activeIndex:W,color:v,activeColor:y,clickable:b,onClick:F=>b&&de(F)}))]})});kt.Item=Mt;const ir=r.forwardRef((e,t)=>{const{className:s,children:n,label:c,labelStyle:i,labelClass:a,innerKey:m,activeKey:l,...u}=e,d=V("s-tab-pane",{"s-tab-pane-active":m===l},s);return h("div",{...u,className:d,ref:t,children:n})}),or=r.forwardRef((e,t)=>{const{className:s,style:n,activeStyle:c,children:i,innerKey:a,activeKey:m,onClick:l,disabled:u,showLine:o,line:d,lineWidth:f,lineStyle:g,...p}=e,v=a===m,y=()=>{u||l==null||l(a)},b=V("s-tab-label",{"s-tab-label-active":v,"s-tab-label-disabled":u},s),x={...n,...v?c:null};return z("div",{...p,ref:t,className:b,style:x,onClick:y,children:[o&&(d??h("div",{className:"s-tab-label-line",style:{width:f,...g}})),h("div",{className:"s-tab-label-text",children:typeof i=="function"?i(v):i})]})}),lr=r.forwardRef((e,t)=>{const{className:s,children:n,defaultActiveKey:c,activeKey:i,onChange:a,onLabelClick:m,scrollCount:l=5,type:u="line",headerClass:o,headerStyle:d,bodyClass:f,bodyStyle:g,wrapperClass:p,wrapperStyle:v,labelStyle:y,labelClass:b,activeLabelStyle:x,line:w,lineWidth:C,lineStyle:S,sticky:E,prepend:N,append:H,animated:_=!1,swipeable:A=!1,swiperProps:I,scrollspy:P,offset:D=0,vertical:B=!1,...O}=e,[K,W]=r.useState(()=>{let Y=n;return Array.isArray(Y)&&(Y=Y[0]),i??c??(Y==null?void 0:Y.key)??0}),L=r.useRef(),te=r.useRef(null),Q=pt([]),T=r.useMemo(()=>{const Y=Q.getIndexByName(K);return Y===-1?0:Y},[K]);r.useEffect(()=>{!P&&i!=null&&W(i)},[i]),r.useEffect(()=>{var re;const Y=Q.get(K);L.current&&Y&&((re=te.current)==null||re.swipeTo(Q.getIndexByName(K)),L.current.scrollTo({left:Y.offsetLeft-(L.current.offsetWidth-Y.offsetWidth)/2,behavior:"smooth"}))},[K]);const k=M(Y=>{const re=Q.getKeyByIndex(Y);W(re),a==null||a(re)}),X=pt([]),J=r.useRef(!1),{reset:ee}=st(()=>{J.current=!1},500),$=(Y,re=!0)=>{if(!P)return;const le=X.get(Y);if(le){const fe=le.getBoundingClientRect().top+window.scrollY-D;ee(),J.current=!0,sn(fe,re)}},R=(Y,re)=>{Y!==K&&((P||i==null)&&W(Y),a==null||a(Y)),$(Y,re)},j=Y=>{m==null||m(Y),R(Y,!0)};rn(()=>{if(!P||J.current)return;const Y=X.getData();nn(Y.map(re=>re[1]),re=>{W(Y[re][0])},D)},150,{leading:!1}),r.useImperativeHandle(t,()=>({scrollTo(Y,re){R(Y,re)}}));const G=V("s-tab","s-tab-"+u,{"s-tab-auto":r.Children.count(n)>l,"s-tab-sticky":E,"s-tab-is-swiper":_||A,"s-tab-scrollspy":P,"s-tab-vertical":B},s),ce=()=>(r.Children.count(n)>l||u!=="line",null),se=Y=>r.Children.map(n,(re,le)=>{const fe=re.key??le;return h(Y,{children:r.cloneElement(re,{key:fe,innerKey:fe,activeKey:K,ref:Se=>X.set(fe,Se)})})});return z("div",{...O,className:G,children:[z("div",{className:V("s-tab-header",o),style:d,children:[N&&h("div",{className:"s-tab-prepend",children:N}),h("div",{className:V("s-tab-label-wrapper",p),style:v,ref:L,children:r.Children.map(n,(Y,re)=>{const le=Y.key??re;return h(or,{className:V(b,Y.props.labelClass),style:{...y,...Y.props.labelStyle},activeStyle:x,disabled:Y.props.disabled,innerKey:le,activeKey:K,ref:fe=>Q.set(le,fe),showLine:u==="card"||u==="line",line:w,lineWidth:C,lineStyle:S,onClick:j,children:Y.props.label},le)})}),H&&h("div",{className:"s-tab-append",children:H}),ce()]}),h("div",{className:V("s-tab-body",f),style:g,children:_||A?h(kt,{...Object.assign({duration:300},I),ref:te,defaultIndex:T,onChange:k,touchable:A,children:se(Mt)}):se(r.Fragment)})]})});lr.Pane=ir;const ur=e=>{const{className:t="",children:s,title:n,label:c,inlaid:i,...a}=e,m=V("s-cell-group",{"s-cell-group-inlaid":i},t);return z("div",{...a,className:m,children:[n&&h("div",{className:"s-cell-group-header",children:h("div",{className:"s-cell-group-title",children:n})}),h("div",{className:"s-cell-group-body",children:s}),c&&h("div",{className:"s-cell-group-footer",children:h("div",{className:"s-cell-group-label",children:c})})]})},vn=e=>{const{className:t="",children:s,title:n,label:c,value:i,isLink:a=!1,arrowDirection:m="right",arrow:l,icon:u,inset:o,onClick:d,...f}=e,g=V("s-cell",{"s-cell-is-link":a,"s-cell-inset":o},t);return z("div",{...f,className:g,onClick:d,children:[u!=null&&h("div",{className:"s-cell-header",children:h("div",{className:"s-cell-icon",children:u})}),z("div",{className:"s-cell-content",children:[z("div",{className:"s-cell-body",children:[n!=null&&h("div",{className:"s-cell-title",children:n}),c!=null&&h("div",{className:"s-cell-label",children:c})]}),z("div",{className:"s-cell-footer",children:[i!=null&&h("div",{className:"s-cell-value",children:i}),a&&h("div",{className:"s-cell-arrow",children:l??h(ue,{prefix:"si",name:m})})]})]})]})};vn.Group=ur;const yn=r.createContext(null),dr=e=>{const{className:t,value:s,defaultValue:n,vertical:c,disabled:i,size:a,type:m,icon:l,checkedColor:u,children:o,onChange:d,...f}=e,[g,p]=ve(e,{defaultValue:[]}),v=x=>{p(x)},y=r.useMemo(()=>({value:g,onChange:v}),[g,v]),b=V("s-checkbox-group",{"s-checkbox-group-vertical":c},t);return h("div",{...f,className:b,children:h(yn.Provider,{value:y,children:r.Children.map(o,x=>r.cloneElement(x,{...x.props,...Pt(x.props,e,["disabled","size","icon","checkedColor","type"])}))})})},fr={square:["square","check-square-fill"],circle:["circle","check-circle-fill"]},mr=e=>{const{className:t,children:s,checked:n,defaultChecked:c,value:i,disabled:a=!1,size:m,type:l="square",onChange:u,onClick:o,icon:d,checkedColor:f,...g}=e,p=r.useContext(yn),[v,y]=ve(e,{defaultValuePropName:"defaultChecked",valuePropName:"checked"}),b=p?p.value.includes(i):v===!0,x=()=>{if(p){const E=b?p.value.filter(N=>N!==i):p.value.concat(i);u==null||u(!b,i),p.onChange(E)}else y(E=>!E,i)},w=E=>{a||x(),o==null||o(E)},C={fontSize:m,color:b?f:""},S=V("s-checkbox",{"s-checkbox-checked":b,"s-checkbox-disabled":a},t);return z("div",{...g,className:S,onClick:w,children:[h("div",{className:"s-checkbox-icon",style:C,children:d?d(b):h(ue,{prefix:"si",name:fr[l][b?1:0]})}),s&&h("div",{className:"s-checkbox-label",children:s})]})};mr.Group=dr;const hr={start:"flex-start",center:"center",end:"flex-end",around:"space-around",between:"space-between",evenly:"space-evenly"},pr={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},gr=r.createContext(null),yc=e=>{const{className:t,style:s,children:n,gutter:c,justify:i,align:a,...m}=e,l=r.useMemo(()=>{if(c){const f=us(c);return[f[0]/2,f[1]||"px"]}},[c]),u=Object.assign({justifyContent:i&&hr[i],alignItems:a&&pr[a]},c?{marginLeft:-l[0]+l[1],marginRight:-l[0]+l[1]}:null,s),o=V("s-row",t),d=r.useMemo(()=>({gutter:c,gap:l}),[c]);return h("div",{...m,className:o,style:u,children:h(gr.Provider,{value:d,children:n})})};function De(e,t=2){return String(e).padStart(t,"0")}function jt(e){return{milliseconds:e%1e3,seconds:~~(e/1e3)%60,minutes:~~(e/1e3/60)%60,hours:~~(e/1e3/60/60)%60,days:~~(e/1e3/60/60/24),total:e}}const bc=r.forwardRef((e,t)=>{const{className:s,children:n,time:c,autoStart:i=!0,onChange:a,onFinish:m,interval:l=1e3,format:u="HH:mm:ss",...o}=e,[d,f]=r.useState(c??0),g=r.useRef(0),p=r.useRef(0),v=r.useMemo(()=>jt(d),[d]),y=r.useRef(0),b=r.useRef(!0),x=()=>{const H=Date.now()-p.current,_=Math.max(d-H,0);f(_),a==null||a(jt(_)),_===0&&(C(),m==null||m())},w=M(()=>{b.current&&(y.current=setInterval(x,l),b.current=!1,p.current=Date.now())}),C=M(()=>{b.current||(clearInterval(y.current),b.current=!0,g.current=Date.now())}),S=M(()=>{C(),f(c??0)});r.useImperativeHandle(t,()=>({start:w,pause:C,reset:S})),r.useEffect(()=>(i&&w(),C),[]);const E=()=>u.replace(/DD/g,De(v.days)).replace(/HH/g,De(v.hours)).replace(/mm/g,De(v.minutes)).replace(/ss/g,De(v.seconds)).replace(/SSS/g,De(v.milliseconds,3)).replace(/SS/g,De(v.milliseconds,3).slice(0,2)).replace(/S/g,De(v.milliseconds,3).slice(0,1)),N=V("s-count-down",s);return h("div",{...o,className:N,children:n?n(v):E()})}),vr=r.memo(r.forwardRef((e,t)=>{const{height:s=48,focusHeight:n=56,duration:c=1e3,correctDuration:i=300,damping:a=5,inertiaTime:m=250,column:l,columnIndex:u,fieldNames:o,defaultIndex:d=0,onChange:f,onPickStart:g,onPickEnd:p,...v}=e,y=r.useRef(!1),b=r.useRef(null),x=r.useRef(0),w=r.useRef(),C=r.useRef(),S=r.useRef({}),E=r.useRef(pe(d,0,l.length-1)),N=r.useRef(!1),H=r.useRef(0),_=R=>{x.current=R,b.current&&(b.current.style.transform=`translate3d(0, ${R}px, 0)`)},A=()=>{y.current||(g==null||g(u),y.current=!0)},I=R=>{y.current=!1,p==null||p(u,R)},P=(R,j=!0)=>{I(R),E.current!==R&&(E.current=R,j&&(f==null||f(u,R)))},D=(R,j=!1,G=!0,ce=!0)=>{j||(R=-cs(l,se=>!se.disabled,Math.abs(Math.round(R/s)),Math.round(R%s/s)?-1:1)*s),C.current=Ae({from:x.current,to:R,duration:G?i:0,step(se){_(se)},finish(se){P(Math.abs(se/s),ce)}})},B=(R,j=!1)=>Ve(R,s,s*l.length,j?1/a||0:a),O=M(()=>{var R,j;(R=w.current)==null||R.call(w),(j=C.current)==null||j.call(C),H.current=B(x.current)}),K=M(R=>{N.current=!0,_(B(H.current+R.deltaY,!0))}),W=M(R=>{const j=l.length,G=(1-j)*s,ce=R.type===Nt?-1:1;let se=x.current+ce*(R.speed*m);se=Math.round(se/s)*s,A(),w.current=Ae({from:x.current,to:se,duration:c,easing:qn,step(Y){var fe;const le=pe(Y,(1-j-1)*s,1*s);Y!==le?((fe=w.current)==null||fe.call(w),D(le>0?0:G)):_(Y)},finish(Y){Y>0||Y<G?D(Y>0?0:G):l[-Y/s].disabled?D(Y):P(Math.abs(Y/s))}})}),L=M(R=>{if(N.current&&setTimeout(()=>{N.current=!1},0),R.swipe&&(R.direction==="up"||R.direction==="down"))return;const G=(1-l.length)*s;A(),D(-Math.round(pe(x.current,G,0)/s)*s)}),te=He(R=>{R.on(Ke,O),R.on(Fe,K),R.on(Nt,W),R.on(nt,W),R.on(xe,L)},{pan:!0,panSwipeMinSpeed:.3});r.useEffect(()=>(_(-E.current*s),()=>{var R,j;(R=w.current)==null||R.call(w),(j=C.current)==null||j.call(C)}),[]);const Q=(R,j)=>{N.current||j.disabled||T(R,!0,!0)},T=M((R,j=!1,G=!1)=>{var se,Y;if(R=pe(R,0,l.length-1),R===E.current)return;(se=w.current)==null||se.call(w),(Y=C.current)==null||Y.call(C);const ce=-R*s;A(),D(ce,!0,G,j)}),k=M((R,j,G)=>{l.some((ce,se)=>{if(ce[o.value]===R)return T(se,j,G),!0})}),X=M(R=>{var G,ce;if(R===E.current)return;(G=w.current)==null||G.call(w),(ce=C.current)==null||ce.call(C);const j=-R*s;E.current=R,_(j)}),J=M(()=>E.current),ee=M(()=>l[E.current]),$=M(()=>u);return r.useImperativeHandle(t,()=>({setIndex:T,setIndexByValue:k,setIndexForcibly:X,getIndex:J,getOption:ee,getColumnIndex:$})),z("div",{...v,...te,className:"s-picker-column",children:[h("div",{className:"s-picker-mask s-picker-mask-top"}),h("div",{className:"s-picker-focus",style:{height:n+"px"},children:h("div",{className:"s-picker-action-area",style:{height:s+"px"},children:h("div",{className:"s-picker-item-group",ref:b,children:l.map((R,j)=>(S.current[j]=R,h("div",{className:V("s-picker-item",{"s-picker-item-disabled":R.disabled}),style:{height:s+"px"},onClick:()=>Q(j,R),children:R[o.label]},j)))})})}),h("div",{className:"s-picker-mask s-picker-mask-bottom"})]})})),yr={label:"label",value:"value",children:"children"},Nc=r.forwardRef((e,t)=>{const{height:s,focusHeight:n,duration:c,correctDuration:i,damping:a,inertiaTime:m,fieldNames:l,className:u,style:o,columns:d=[],defaultIndex:f=[],onChange:g,onColumnChange:p,...v}=e,y=r.useRef([]),b=$s(()=>{const O=d.map((K,W)=>f[W]||0);return y.current=O.slice(),O}),x=r.useMemo(()=>Object.assign({},yr,l),[l]),w=r.useRef([]),C=r.useRef({}),S=M(O=>{O&&(w.current[O.getColumnIndex()]=O)}),E=M((O,K)=>{if(y.current=w.current.map(L=>L.getIndex()),p==null||p(O,K),Object.keys(C.current).every(L=>!C.current[L])&&!as(y.current,b.current)){b.current=y.current.slice();const L=d.map((te,Q)=>te[b.current[Q]]);g==null||g(L.map(te=>te[x.value]),L,b.current.slice())}}),N=M(O=>{C.current[O]=!0}),H=M(O=>{C.current[O]=!1}),_=M(()=>b.current.slice()),A=M(()=>w.current.map(O=>O.getOption())),I=M((O,K,W)=>{w.current.forEach((L,te)=>L.setIndex(O[te],K,W))}),P=M((O,K,W)=>{w.current.forEach((L,te)=>L.setIndexByValue(O[te],K,W))}),D=M(O=>{w.current.forEach((K,W)=>K.setIndexForcibly(O[W]))});r.useImperativeHandle(t,()=>({setIndexes:I,setIndexesByValue:P,setIndexesForcibly:D,getIndexes:_,getOptions:A}));const B=V("s-picker",u);return h("div",{...v,className:B,style:o,children:h("div",{className:"s-picker-column-group",children:d.map((O,K)=>h(vr,{ref:S,height:s,focusHeight:n,duration:c,correctDuration:i,damping:a,inertiaTime:m,column:O,columnIndex:K,defaultIndex:f[K],fieldNames:x,onChange:E,onPickStart:N,onPickEnd:H},K))})})});function ct(e,t,s,n){const{id:c=n,$$afterRender:i,...a}=t,[m,l]=r.useState(!1),[u,o]=r.useState(),d=r.useRef(null),f=r.useRef();return r.useEffect(()=>(s[c]=f,()=>{delete s[c]}),[c]),r.useEffect(()=>{f.current={show(g){o(g),l(!0)},hide(){l(!1)},...d.current},i==null||i()},[]),r.createElement(e,{...a,...u,visible:m,onVisible(g){var p;l(g),(p=t.onVisible)==null||p.call(t,g)},ref:d})}function br(){const e=document.createElement("div");document.body.appendChild(e);const t=_n(e);return{unmount(){setTimeout(()=>{t.unmount(),document.body.removeChild(e)})},mount(s){t.render(s)},container:e}}function at(e,t,s,n){const{mount:c,unmount:i,container:a}=br(),m=r.createElement(t,{id:e,$$afterRender(){var l,u;(u=(l=s[e])==null?void 0:l.current)==null||u.show(n)},popupProps:{container:a,onExited(){i()}}});c(m)}const Ct={},bn=e=>ct(Ue,e,Ct,"dialog"),Lt=e=>{var n;const{id:t="dialog"}=e,s=Ct[t];s?(n=s.current)==null||n.show(e):at(t,bn,Ct,e)},Nr=e=>{Lt({...e,showCancel:!1})},xr=e=>{Lt({...e,showCancel:!0})},Gt="cancel",Cr="confirm",Ut={text:{cancel:{type:"text",theme:"secondary",size:"large"},confirm:{type:"text",theme:"primary",size:"large"}},round:{cancel:{type:"pale",theme:"primary",round:!0},confirm:{type:"default",theme:"primary",round:!0}}},Ue=r.forwardRef((e,t)=>{const{className:s,children:n,title:c,message:i,header:a,headed:m,footer:l,buttonType:u="text",showCancel:o=!1,cancelText:d="取消",cancelProps:f,showConfirm:g=!0,confirmText:p="确定",confirmProps:v,maskClosable:y=!1,onCancel:b,onConfirm:x,beforeClose:w,visible:C=!1,onVisible:S,popupProps:E={},...N}=e,{mask:H=!0,placement:_="center",onMaskClick:A,...I}=E,[P,D]=r.useState({cancel:!1,confirm:!1}),B=M(()=>{A==null||A(),y&&(b==null||b())}),O=()=>{L(Gt,b)},K=()=>{L(Gt,b)},W=()=>{L(Cr,x)},L=(T,k)=>{w?(D(X=>({...X,[T]:!0})),w(()=>{D(X=>({...X,[T]:!1})),S==null||S(!1),k==null||k()},T)):(S==null||S(!1),k==null||k())};r.useImperativeHandle(t,()=>({}));const te=V("s-dialog",{"s-dialog-headed":m,"s-dialog-untitled":!c,"s-dialog-round-button":u==="round"},s),Q=()=>h("div",{className:"s-dialog-title",children:c});return h(Me,{...I,visible:C,placement:_,mask:H,onMaskClick:B,children:z("div",{...N,className:te,children:[m&&z("div",{className:"s-dialog-header",children:[a||Q(),h(Pe,{className:"s-dialog-close",type:"pale-text",theme:"secondary",size:"large",onClick:O,children:h(ue,{prefix:"si",name:"close"})})]}),h("div",{className:"s-dialog-body",children:n||z(we,{children:[!m&&c&&Q(),i&&h("div",{className:"s-dialog-message",children:i})]})}),h("div",{className:"s-dialog-footer",children:l||z(we,{children:[o&&h(Pe,{...Ut[u].cancel,className:"s-dialog-button s-dialog-cancel",...f,loading:P.cancel,onClick:K,children:d}),g&&h(Pe,{...Ut[u].confirm,className:"s-dialog-button s-dialog-confirm",...v,loading:P.confirm,onClick:W,children:p})]})})]})})});Ue.show=Lt;Ue.alert=Nr;Ue.confirm=xr;Ue.Agent=bn;const Nn=e=>{const{className:t,style:s,children:n,label:c,value:i,active:a,onClick:m,...l}=e,u=V("s-dropdown-option",{"s-dropdown-item-option-active":a},t);return h(vn,{...l,className:u,title:c,isLink:!0,icon:h("div",{className:"s-dropdown-option-icon",children:h(ue,{prefix:"si",name:"success"})}),onClick:m})},wr=e=>{var S;const{className:t,style:s,children:n,placeholder:c,options:i=[],disabled:a,value:m,defaultValue:l,onChange:u,...o}=e,[d,f]=ve(e,{defaultValue:null}),[g,p]=r.useState(!1),v=r.useRef(null),y=r.useRef(null),b=()=>{p(!g)},x=M(E=>{var N,H;g&&!((N=v.current)!=null&&N.contains(E.target))&&!((H=y.current)!=null&&H.contains(E.target))&&p(!1)});r.useEffect(()=>(document.addEventListener("click",x),()=>{document.removeEventListener("click",x)}),[]);const w=E=>{E.value!==d&&f(E.value),p(!1)},C=V("s-dropdown-item",{"s-dropdown-item-show":g,"s-dropdown-item-disabled":a},t);return z(we,{children:[z("div",{...o,className:C,ref:y,onClick:b,children:[n&&h("div",{className:"s-dropdown-item-label",children:n}),d&&h("div",{className:"s-dropdown-item-value",children:(S=i.find(E=>E.value===d))==null?void 0:S.label})||c&&h("div",{className:"s-dropdown-placeholder",children:c}),h(ue,{prefix:"si",name:g?"caret-up-fill":"caret-down-fill",className:"s-dropdown-item-icon"})]}),h(Me,{placement:"bottom",visible:g,children:h("div",{className:"s-dropdown-options",ref:v,children:i.map((E,N)=>r.createElement(Nn,{...E,key:N,active:E.value===d,onClick:()=>w(E)}))})})]})},xn=e=>{const{className:t,children:s,...n}=e,c=V("s-dropdown",t);return h("div",{...n,className:c,children:s})};xn.Item=wr;xn.Option=Nn;const Sr=e=>{const{className:t,style:s,children:n,label:c,labelWidth:i,error:a,...m}=e,l=V("s-form-item");return z("div",{...m,className:l,children:[h("div",{className:"s-form-item-label",style:{width:i},children:c}),z("div",{className:"s-form-item-content",children:[n,a&&h("div",{className:"s-form-item-error",children:a})]})]})},Er=e=>{const{className:t,style:s,children:n,onSubmit:c,...i}=e,a=l=>{l.preventDefault(),c==null||c(l)},m=V("s-form");return h("form",{...i,className:m,onSubmit:a,children:n})};Er.Item=Sr;const Cn=r.createContext({x:0,y:0,width:0,height:0}),Pr=r.forwardRef((e,t)=>{const{className:s,children:n,resize:c=!1,...i}=e,a=r.useRef(null),[m,l]=r.useState({x:0,y:0,width:0,height:0}),u=r.useCallback(d=>{if(a.current){const f=d??a.current.getBoundingClientRect();l({x:f.x,y:f.y,width:f.width,height:f.height})}},[]);r.useEffect(()=>{u()},[]),r.useImperativeHandle(t,()=>({updateRect:u}));const o=V("s-movable-area",s);return h("div",{...i,ref:a,className:o,children:h(Cn.Provider,{value:m,children:n})})}),qt="horizontal",Zt="vertical",Be="all";function wn(e,t={}){const{x:s,y:n,defaultX:c,defaultY:i,direction:a=Be,inertia:m=!1,inertiaDuration:l=300,inertiaTime:u=300,inertiaMaxOverflow:o=50,outOfBounds:d=!1,damping:f=5,reboundDuration:g=200,touchable:p=!0,lockDirection:v=!1,onChange:y,onPanStart:b,onPanMove:x,onPanEnd:w,onMoveEnd:C}=t,[S,E]=r.useState(c||s||0),[N,H]=r.useState(i||n||0),_=r.useRef(S),A=r.useRef(N),I=$=>{_.current=$,E($)},P=$=>{A.current=$,H($)},[D,B]=r.useState("");r.useEffect(()=>{s!=null&&I(s),n!=null&&P(n)},[s,n]);const O=r.useRef({x:0,y:0}),K=r.useRef({x:null,y:null}),W=r.useRef({x:null,y:null}),L=r.useRef({x:0,y:0,width:0,height:0}),te=M($=>{Object.assign(L.current,{x:$.x,y:$.y,width:$.width,height:$.height})}),Q=M(()=>{var $,R,j,G,ce,se,Y,re;(K.current.x||K.current.y||W.current.x||W.current.y)&&((R=($=K.current).x)==null||R.call($),(G=(j=K.current).y)==null||G.call(j),(se=(ce=W.current).x)==null||se.call(ce),(re=(Y=W.current).y)==null||re.call(Y),K.current.x=null,K.current.y=null,W.current.x=null,W.current.y=null,C==null||C(_.current,A.current))}),T=M(()=>{b==null||b(),Q();function $(R,j){return Ve(j,e[R],L.current[R],d?f:0)}O.current.x=$("width",S),O.current.y=$("height",N),B("transform")}),k=M($=>{x==null||x();let R=$.deltaX+O.current.x,j=$.deltaY+O.current.y;function G(ce,se){return Ve(se,e[ce],L.current[ce],d&&1/f||0)}R=a===Be||a===qt?G("width",R):_.current,j=a===Be||a===Zt?G("height",j):A.current,s==null&&I(R),n==null&&P(j),y==null||y(R,j)}),X=($,R,j)=>{K.current[$]=Ae({from:R,to:j,duration:g,step(G){$==="x"&&(s==null&&I(G),y==null||y(G,A.current)),$==="y"&&(n==null&&P(G),y==null||y(_.current,G))},finish(){C==null||C(_.current,A.current),K.current[$]=null}})},J=M($=>{w==null||w();const R=(j,G,ce)=>{const se=Bt(ce,e[j],L.current[j]),Y=ce;if(Y!==se)X(G,Y,se);else if(m){const re=pe($[G==="x"?"speedX":"speedY"],-8,8),le=Y+re*u,fe=o*f,Se=rs(fe,e[j],L.current[j]);W.current[G]=Ae({from:Y,to:pe(le,...Se),duration:l,step(U){const ne=Ve(U,e[j],L.current[j],d&&1/f||0);G==="x"&&(s==null&&I(ne),y==null||y(ne,A.current)),G==="y"&&(n==null&&P(ne),y==null||y(_.current,ne))},finish(){W.current[G]=null;const U=G==="x"?_.current:A.current,ne=Bt(U,e[j],L.current[j]);U!==ne?X(G,U,ne):C==null||C(_.current,A.current)}})}};(a===Be||a===qt)&&R("width","x",_.current),(a===Be||a===Zt)&&R("height","y",A.current),a||C==null||C(_.current,A.current),B("auto")}),ee=He($=>{$.on(Ke,T),$.on(Fe,k),$.on(xe,J)},{pan:!0,direction:a,lockDirection:v},p);return r.useEffect(()=>Q,[]),{updateRect:te,willChange:D,binding:ee,x:S,y:N}}function Rr(e,t,s){return`translate3d(${e}px, ${t}px, ${s}px)`}const Tr=r.forwardRef((e,t)=>{const{rootRef:s,className:n,style:c,children:i,x:a,y:m,defaultX:l,defaultY:u,direction:o,inertia:d,inertiaDuration:f,inertiaTime:g,outOfBounds:p,inertiaMaxOverflow:v,damping:y,reboundDuration:b,lockDirection:x,onChange:w,onPanStart:C,onPanMove:S,onPanEnd:E,...N}=e,H=r.useRef(null),_=r.useContext(Cn),{updateRect:A,x:I,y:P,willChange:D}=wn(_,e);r.useEffect(()=>{var K;A((K=H.current)==null?void 0:K.getBoundingClientRect())},[]),r.useImperativeHandle(t,()=>({updateRect:A}));const B=V("s-movable-view",n),O={transform:Rr(I,P,0),willChange:D,...c};return h("div",{...N,ref:H,className:B,style:O,children:i})});function Sn(){}Sn.Area=Pr;Sn.View=Tr;var En=(e=>(e[e.none=0]="none",e[e.horizontal=1]="horizontal",e[e.vertical=2]="vertical",e[e.all=3]="all",e))(En||{});const Ir=e=>{const{url:t,doubletapScale:s=3,minScale:n=1,maxScale:c=7,onProcessing:i,swiperProcessing:a,visible:m}=e,[l,u]=r.useState(1),[o,d]=r.useState(0),[f,g]=r.useState(0),[p,v]=r.useState(1),[y,b]=r.useState(""),x=r.useRef(),[w,C]=r.useState("all"),[S,E]=r.useState(!1),[N,H]=r.useState(()=>[window.innerWidth,window.innerHeight]);hs(()=>{H([window.innerWidth,window.innerHeight])},150);const[_,A]=r.useState([0,0]),I=U=>{A([U.target.naturalWidth,U.target.naturalHeight])},[P,D]=r.useMemo(()=>{const U=_[0]/_[1]||0,ne=U>N[0]/N[1],de=ne?N[0]:U*N[1],he=ne?N[0]/U:N[1];return[de,he]},[_,N]),B=(U,ne,de,he,Ee,F,q=!0)=>{let Z=0,ae=0;Z=Ee+ne-ne*U,ae=F+de-de*U;const ie=U*(P*he),oe=U*(D*he);q&&ie<=N[0]?Z=(N[0]-ie)/2:Z=pe(Z,N[0]-ie,0),q&&oe<=N[1]?ae=(N[1]-oe)/2:ae=pe(ae,N[1]-oe,0);const me=En[(ie<=N[0]?0:1)+(oe<=N[1]?0:2)];return[Z,ae,me]},O=()=>{const[U,ne]=K();d(U),g(ne)},K=()=>[(N[0]-P)/2,(N[1]-D)/2,void 0];r.useLayoutEffect(()=>{O()},[_]);const[W,L]=r.useState(!1),te=M(U=>{if(W)return;E(!1),i(!0),L(!0);const ne=p===1?s:1,de=p===1?s:1/p;gt(ce,he=>{const Ee=U.x-he.left,F=U.y-he.top,[q,Z,ae]=ne===1?K():B(ne,Ee,F,1,o,f),ie=P*p,oe=D*p,me=ie*de,ge=oe*de,ye=ls({x:o,y:f,width:ie,height:oe},{x:q,y:Z,width:me,height:ge});b(ye.map(be=>be+"px").join(" ")),x.current=Ae({from:1,to:de,duration:200,step(be){u(be)},finish(){u(1),d(q),g(Z),C(ae),v(ne),ne===1&&i(!1),ne>1&&E(!0),L(!1)}})})}),[Q,T]=r.useState(!1),k=r.useRef(0),X=r.useRef(0),J=r.useRef(0),ee=M(U=>{T(!0),E(!1),i(!0),gt(ce,ne=>{const de=U.x-ne.left,he=U.y-ne.top;k.current=de,X.current=he,b(`${de}px ${he}px`)})}),$=M(U=>{u(J.current=en(U.scale,n/p,c/p,.2))}),R=r.useRef(),j=M(U=>{const ne=k.current,de=X.current,he=p,Ee=o,F=f,q=pe(U.scale,n/p,c/p),Z=q*p,ae=()=>{u(1);const[ie,oe,me]=B(J.current,ne,de,he,Ee,F);d(ie),g(oe),C(me),v(Z),Z===1&&i(!1),Z>1&&E(!0),T(!1)};J.current!==q?R.current=Ae({from:J.current,to:q,duration:200,step(ie){u(ie)},finish(){J.current=q,ae()}}):ae()}),G=He(U=>{U.on(dn,te)},{tap:!0},!a&&!Q),ce=cn(),se=He(U=>{U.on(fn,ee),U.on(mn,$),U.on(hn,j)},{pinch:!0},!a&&!W),{updateRect:Y,willChange:re,binding:le}=wn({x:0,y:0,width:N[0],height:N[1]},{x:o,y:f,inertia:!0,outOfBounds:!0,touchable:!a&&!W&&!Q&&S,direction:w,onChange(U,ne){d(U),g(ne)}}),fe=Ys([G,se,le]);r.useEffect(()=>{Y({x:o,y:f,width:P*p,height:D*p})},[p,P,D]),r.useEffect(()=>{var U;m||((U=x.current)==null||U.call(x),b(""),v(1),E(!1),L(!1),i(!1),O())},[m]),r.useEffect(()=>()=>{var U,ne;(U=x.current)==null||U.call(x),(ne=R.current)==null||ne.call(R)},[]);const Se={width:P*p,height:D*p,transform:`translate3d(${o}px, ${f}px, 0) scale(${l})`,transformOrigin:y,willChange:re};return h(Mt,{className:"s-image-preview-item",children:h("div",{className:"s-image-preview-scale",...fe,style:Se,id:ce,children:h("img",{className:"s-image-preview-img",src:t,onLoad:I})})})},wt={},Dr=e=>ct(Vt,e,wt,"image-preview"),Ar=e=>{var n;const{id:t="image-preview"}=e,s=wt[t];s?(n=s.current)==null||n.show(e):at(t,Dr,wt,e)},Vt=r.forwardRef((e,t)=>{const{className:s,style:n,children:c,images:i=[],defaultIndex:a=0,visible:m,defaultVisible:l,onVisible:u,popupProps:o={},...d}=e,{placement:f="center-fade",...g}=o,[p,v]=r.useState(a),y=r.useRef(),b=L=>{v(L)},[x,w]=ve(e,{defaultValuePropName:"defaultVisible",valuePropName:"visible",trigger:"onVisible",defaultValue:!1}),C=M(L=>{w(L)});r.useEffect(()=>{var L;x&&((L=y.current)==null||L.swipeTo(a,!1))},[x]);const S=()=>{C(!1)},[E,N]=r.useState(!0),H=L=>{N(!L)},[_,A]=r.useState(!1),I=r.useCallback(()=>{A(!0)},[]),P=r.useCallback(()=>{A(!1)},[]),[D,B]=r.useState(!1),O=r.useCallback(()=>{B(!0)},[]),K=r.useCallback(()=>{B(!1)},[]);r.useImperativeHandle(t,()=>({}));const W=V("s-image-preview",s);return h(Me,{...g,placement:f,maskClass:"s-image-preview-mask",className:"s-image-preview-popup",visible:x,children:z("div",{...d,className:W,children:[z("div",{className:"s-image-preview-header",children:[z("div",{className:"s-image-preview-counter",children:[p+1," / ",i.length]}),h("div",{className:"s-image-preview-close",onClick:S,children:h(ue,{prefix:"si",name:"close"})})]}),h("div",{className:"s-image-preview-body",children:h(kt,{className:"s-image-preview-swiper",defaultIndex:a,onChange:b,duration:300,touchable:E,onAnimateStart:I,onAnimateEnd:P,onTouchMove:O,onTouchEnd:K,ref:y,children:i.map((L,te)=>h(Ir,{url:L,onProcessing:H,swiperProcessing:_||D,visible:x},te))})})]})})});Vt.show=Ar;const Mr=r.forwardRef((e,t)=>{const{className:s,style:n,children:c,name:i,activeKey:a,offset:m,anchorClass:l,anchorStyle:u,...o}=e,d=V("s-index-bar-item",s);return z("div",{...o,ref:t,className:d,children:[h("div",{className:V("s-index-bar-anchor",l),style:{...u,top:m},children:i}),h("div",{className:"s-index-bar-content",children:c})]})}),kr=r.forwardRef((e,t)=>{const{className:s,style:n,children:c,defaultActiveKey:i,activeKey:a,offset:m=0,anchorClass:l,anchorStyle:u,...o}=e,d=r.useRef(m),f=pt([]),g=r.useRef(c),[p,v]=r.useState(()=>{const T=r.Children.toArray(c)[0];return a??i??(T==null?void 0:T.props.name)??0}),y=r.useRef(!1),{reset:b}=st(()=>{y.current=!1},250),x=M(T=>{const k=f.get(T);if(k){const X=k.getBoundingClientRect().top+window.scrollY-d.current;b(),y.current=!0,sn(X,!1),v(T)}});rn(()=>{if(y.current)return;const T=f.getData();nn(T.map(k=>k[1]),k=>{v(T[k][0])},d.current)},150,{leading:!1});const[w,C]=r.useState(!1),[S,E]=r.useState(!1),[N,H]=r.useState(""),_=()=>{const T=f.getIndexByName(p),k=r.Children.count(c);return(T+.5)/k*100+"%"};r.useEffect(()=>{H(_())},[p]);const A=r.useRef(null),I=r.useRef(0),P=r.useRef(0),D=r.useRef(0),B=M(T=>{const k=pe(Math.floor(T/I.current*D.current),0,D.current-1),X=f.getData()[k][0];X!==p&&x(X)}),O=M(T=>{var k;I.current=((k=A.current)==null?void 0:k.getBoundingClientRect().height)||0,D.current=r.Children.count(g.current),gt(L,X=>{P.current=X.top,B(T.y-X.top)}),C(!0)}),K=M(T=>{B(T.y-P.current)}),W=M(()=>{C(!1)}),L=cn(),te=He(T=>{T.on(Ke,O),T.on(Fe,K),T.on(xe,W)},{pan:!0});r.useImperativeHandle(t,()=>({scrollTo:x}));const Q=V("s-index-bar",s);return z("div",{...o,className:Q,children:[r.Children.map(c,(T,k)=>{const X=T.props.name??k;return r.cloneElement(T,{key:X,name:X,activeKey:p,offset:m,ref:J=>f.set(X,J),anchorClass:V(l,T.props.anchorClass),anchorStyle:{...u,...T.props.anchorStyle}})}),z("div",{className:"s-index-bar-nav",...te,ref:A,id:L,children:[r.Children.map(c,(T,k)=>{const X=T.props.name??k;return h("div",{className:V("s-index-bar-nav-item",{"s-index-bar-nav-item-active":X===p}),children:X})}),h(xt,{in:w,timeout:300,onEnter:()=>E(!0),onExited:()=>E(!1),children:h("div",{className:V("s-index-bar-hint",{"s-index-bar-hint-visible":w||S}),style:{top:N},children:h("div",{className:"s-index-bar-hint-text",children:p})})})]})]})});kr.Item=Mr;const xc=r.forwardRef((e,t)=>{const{className:s,value:n,defaultValue:c,type:i="text",placeholder:a="",disabled:m,readOnly:l,maxLength:u,showCount:o,autoHeight:d,borderless:f,inlaid:g,prepend:p,append:v,rows:y,clearable:b,clear:x,onClear:w,onChange:C,onFocus:S,onBlur:E,onClick:N,...H}=e,[_,A]=ve(e,{defaultValue:""}),[I,P]=r.useState(!1),D=k=>{P(!0),S==null||S(k)},B=k=>{P(!1),E==null||E(k)},O=()=>{A(""),w==null||w("")},K=Number(u)||0,W=k=>{let X=k.target.value;K&&(X=X.slice(0,K)),A(X)},L=r.useRef();r.useEffect(()=>{i==="textarea"&&L.current&&ms(L.current,d)},[_,d,i]);const te=V("s-input",{"s-input-inlaid":g,"s-input-borderless":f,"s-input-disabled":m,"s-input-readonly":l,"s-input-focused":I,"s-input-is-textarea":i==="textarea"},s),Q={className:"s-input-control",autoComplete:"off",value:_,placeholder:a,disabled:m,readOnly:l,onChange:W,onFocus:D,onBlur:B,onClick:N},T=k=>{typeof t=="function"?t(k):t&&(t.current=k),L.current=k};return z("div",{...H,className:te,children:[p&&h("div",{className:"s-input-prepend",children:p}),i==="textarea"?h("textarea",{...Q,ref:T,rows:d?1:y}):h("input",{...Q,ref:T,type:i}),v&&h("div",{className:"s-input-append",children:v}),b&&_&&h("div",{className:"s-input-clear",onClick:O,children:x||h(ue,{prefix:"si",name:"x-circle-fill",className:"s-input-clear-icon"})}),o&&z("div",{className:"s-input-count",children:[String(_).length,K&&" / "+K]})]})}),Lr=e=>{const{className:t,children:s,...n}=e,c=V("s-navbar-item",t);return h("div",{...n,className:c,children:s})},Vr=e=>{const{className:t,style:s,children:n,title:c,prepend:i,append:a,flow:m,fixed:l,zIndex:u=1,...o}=e,d=V("s-navbar",{"s-navbar-flow":m,"s-navbar-fixed":l},t),f={zIndex:l?u:"",...s};return z("div",{...o,className:d,style:f,children:[i&&h("div",{className:"s-navbar-prepend",children:i}),h("div",{className:"s-navbar-content",children:n||h("div",{className:"s-navbar-title",children:c})}),a&&h("div",{className:"s-navbar-append",children:a})]})};Vr.Item=Lr;const _e={},Pn=e=>ct(Re,e,_e,"notify"),it=(e,t={},s="primary")=>{var i,a;Qt(e)?t=e:t.message=e,t.type=s;const{id:n="notify"}=t,c=_e[n];c?((i=c.current)==null||i.reset(),(a=c.current)==null||a.show(t)):at(n,Pn,_e,t)},Hr=(e,t)=>{it(e,t)},_r=(e,t)=>{it(e,t,"success")},zr=(e,t)=>{it(e,t,"warning")},Or=(e,t)=>{it(e,t,"error")},Xr=(e="notify")=>{var t,s;(s=(t=_e[e])==null?void 0:t.current)==null||s.hide()},Br=()=>{Object.keys(_e).forEach(e=>{var t,s;return(s=(t=_e[e])==null?void 0:t.current)==null?void 0:s.hide()})},Re=r.forwardRef((e,t)=>{const{className:s,style:n,children:c,type:i="primary",message:a,duration:m=3e3,color:l,background:u,onTimeout:o,visible:d=!1,onVisible:f,popupProps:g={},...p}=e,{mask:v=!1,placement:y="top",lockScroll:b=!1,...x}=g,{reset:w,clear:C}=st(()=>{o==null||o(!1),f==null||f(!1)},m);r.useEffect(()=>{d?w():C()},[d,i]),r.useEffect(()=>{w()},[m]),r.useImperativeHandle(t,()=>({reset:w,clear:C}));const S=V("s-notify","s-notify-"+i,s),E={color:l,background:u,...n};return h(Me,{...x,mask:v,visible:d,placement:y,lockScroll:b,children:h("div",{...p,className:S,style:E,children:a})})});Re.show=Hr;Re.success=_r;Re.warning=zr;Re.error=Or;Re.hide=Xr;Re.hideAll=Br;Re.Agent=Pn;const Yr=e=>{const{children:t}=e,s=r.useContext(qe);try{const n=r.Children.only(t);return r.cloneElement(n,{...n.props,onChange:(...c)=>{var i,a;s.setTmpChangeArgs(c),(a=(i=n.props).onChange)==null||a.call(i,...c)}})}catch{return null}},Wr=e=>{const{children:t,readOnly:s,value:n,clear:c,select:i,format:a}=e,m=r.useContext(qe),l=r.useContext(Ht),u=()=>{!s&&i&&m.setVisible(!0)};return r.useEffect(()=>{try{const o=r.Children.only(t);if(r.isValidElement(o)){const d={...o.props,onClick:(...f)=>{var g,p;console.log("click"),u(),(p=(g=o.props).onClick)==null||p.call(g,...f)}};if(n){const f=n===!0?"value":n;d[f]=l[0]!=null?a?a(...l):l[0]:o.props[f]||""}if(c){const f=c===!0?"onClear":c;d[f]=(...g)=>{var p,v;m.clear(),(v=(p=o.props)[f])==null||v.call(p,...g)}}m.setTarget(r.cloneElement(o,d))}else throw Error}catch(o){console.log(o),m.setTarget(t)}}),null},$r=e=>{const{format:t}=e,s=r.useContext(Ht);return h(we,{children:s[0]!=null?t?t(...s):s[0]:null})},Kr=e=>{const{children:t}=e,s=r.useContext(qe);try{const n=r.Children.only(t);if(r.isValidElement(n))return r.cloneElement(n,{...n.props,onClick:(...c)=>{var i,a;s.clear(),(a=(i=n.props).onClick)==null||a.call(i,...c)}});throw Error}catch{return null}},Fr=e=>{const{children:t}=e,s=r.useContext(qe),n=r.Children.only(t);return r.cloneElement(n,{...n.props,onClick:(...c)=>{var i,a;s.setVisible(!0),(a=(i=n.props).onClick)==null||a.call(i,...c)}})},qe=r.createContext({}),Ht=r.createContext([]),Ze=e=>{const{className:t,title:s,children:n,visible:c,defaultVisible:i,onVisible:a,showCancel:m=!1,cancelText:l="取消",cancelProps:u,showConfirm:o=!0,confirmText:d="确定",confirmProps:f,type:g="loose",onClose:p,onCancel:v,onConfirm:y,popupProps:b={},...x}=e,{placement:w="bottom",onMaskClick:C,onEnter:S,...E}=b,[N,H]=ve(e,{defaultValuePropName:"defaultVisible",valuePropName:"visible",trigger:"onVisible",defaultValue:!1}),_=ee=>{H(ee)},A=M(()=>{_(!1),p==null||p(!1),C==null||C()}),I=M(()=>{_(!1),v==null||v(!1),p==null||p(!1)}),P=M(()=>{L(te.current.slice()),_(!1),y==null||y(!1),p==null||p(!1)}),[D,B]=r.useState(null),O=r.useRef(),K=M(()=>{var ee;(ee=O.current)==null||ee.call(O),S==null||S()}),[W,L]=r.useState([]),te=r.useRef([]),[Q,T]=r.useState(!1),k=M(()=>{W.length!==0&&L([])}),X=r.useRef({setTarget:B,setVisible:_,setChangeArgs:L,setConfirmDisabled:T,setEnter:ee=>{O.current=ee},setTmpChangeArgs:ee=>{te.current=ee},clear:k}),J=V("s-popout","s-popout-"+g,t);return h(we,{children:h(qe.Provider,{value:X.current,children:z(Ht.Provider,{value:W,children:[D,h(Me,{...E,placement:w,visible:N,onMaskClick:A,onEnter:K,children:z("div",{...x,className:J,children:[z("div",{className:"s-popout-header",children:[g==="compact"&&h(Pe,{className:"s-popout-cancel s-popout-button",type:"pale-text",theme:"secondary",...u,onClick:I,children:l}),s&&h("div",{className:"s-popout-title",children:s}),g==="compact"&&h(Pe,{className:"s-popout-confirm s-popout-button",type:"pale-text",theme:"primary",...f,disabled:Q,onClick:P,children:d}),g==="loose"&&h(Pe,{className:"s-popout-close",type:"pale-text",theme:"secondary",size:"large",onClick:I,children:h(ue,{prefix:"si",name:"close"})})]}),h("div",{className:"s-popout-body",children:n}),g==="loose"&&z("div",{className:"s-popout-footer",children:[m&&h(Pe,{className:"s-popout-cancel s-popout-button",type:"pale",theme:"primary",round:!0,...u,onClick:I,children:l}),o&&h(Pe,{className:"s-popout-confirm s-popout-button",type:"default",theme:"primary",round:!0,...f,disabled:Q,onClick:P,children:d})]})]})})]})})})};Ze.Bridge=Yr;Ze.Target=Wr;Ze.Outlet=$r;Ze.Clear=Kr;Ze.Select=Fr;const Rn=r.createContext(null),jr=e=>{const{className:t,value:s,defaultValue:n,vertical:c,disabled:i,size:a,type:m,icon:l,checkedColor:u,children:o,onChange:d,...f}=e,[g,p]=ve(e,{defaultValue:""}),v=x=>{p(x)},y=r.useMemo(()=>({value:g,onChange:v}),[g,v]),b=V("s-radio-group",{"s-radio-group-vertical":c},t);return h("div",{...f,className:b,children:h(Rn.Provider,{value:y,children:r.Children.map(o,x=>r.cloneElement(x,{...x.props,...Pt(x.props,e,["disabled","size","icon","checkedColor","type"])}))})})},Gr={record:["circle","record-circle"],check:["circle","check-circle-fill"]},Ur=e=>{const{className:t,children:s,checked:n,defaultChecked:c,value:i="",disabled:a=!1,size:m="",type:l="record",onChange:u,onClick:o,icon:d,checkedColor:f,...g}=e,p=r.useContext(Rn),[v,y]=ve(e,{defaultValuePropName:"defaultChecked",valuePropName:"checked",defaultValue:!1}),b=p?p.value===i:v===!0,x=()=>{b||(p?(u==null||u(!0,i),p.onChange(i)):y(!0,i))},w=E=>{a||x(),o==null||o(E)},C={fontSize:m,color:b?f:""},S=V("s-radio",{"s-radio-checked":b,"s-radio-disabled":a},t);return z("div",{...g,className:S,onClick:w,children:[h("div",{className:"s-radio-icon",style:C,children:d?d(b):h(ue,{prefix:"si",name:Gr[l][b?1:0]})}),s&&h("div",{className:"s-radio-label",children:s})]})};Ur.Group=jr;const Tn=e=>{const{className:t,children:s,name:n,label:c,color:i,background:a,icon:m,disabled:l,onClick:u,...o}=e,d=r.useMemo(()=>typeof m=="string"&&Jt(m),[m]),f=v=>{l||u==null||u(v)},g=V("s-share-sheet-item",{"s-share-sheet-item-disabled":l},t);return h("button",{...o,type:"button",className:g,onClick:f,disabled:l,children:s||z(we,{children:[d?h("img",{className:"s-share-sheet-img",src:m}):h("div",{className:"s-share-sheet-icon",style:{color:i,backgroundColor:a},children:h(ue,{...m})}),n&&h("div",{className:"s-share-sheet-name",children:n}),c&&h("div",{className:"s-share-sheet-label",children:c})]})})},qr=e=>{const{className:t,children:s,itemList:n=[],visible:c,title:i,description:a,cancel:m,maskClosable:l=!0,actionClosable:u,onSelect:o,onCancel:d,onClose:f,popupProps:g={},...p}=e,{placement:v="bottom",...y}=g,b=M((E,N)=>{o==null||o(E,N),u&&(f==null||f(!1))}),x=M(()=>{var E;l&&((E=g==null?void 0:g.onMaskClick)==null||E.call(g),f==null||f(!1))}),w=M(()=>{d==null||d(!1),f==null||f(!1)}),C=V("s-share-sheet",{"s-share-sheet-headless":!i&&!a},t),S=(E,N)=>h("div",{className:"s-share-sheet-row",children:E.map((H,_)=>r.createElement(Tn,{...H,key:_,onClick:A=>{var I;b(H,_),(I=H.onClick)==null||I.call(H,A)}}))},N);return h(Me,{...y,visible:c,placement:v,onMaskClick:x,children:z("div",{...p,className:C,children:[(i||a)&&z("div",{className:"s-share-sheet-header",children:[i&&h("div",{className:"s-share-sheet-title",children:i}),a&&h("div",{className:"s-share-sheet-description",children:a})]}),h("div",{className:"s-share-sheet-body",children:s||(n.length&&Array.isArray(n[0])?n.map((E,N)=>S(E,N)):S(n))}),m&&z(we,{children:[h("div",{className:"s-share-sheet-gap"}),h("div",{className:"s-share-sheet-cancel",onClick:w,children:m})]})]})})};qr.Item=Tn;const ot=e=>{const{className:t,animated:s,round:n,children:c,...i}=e,a=V("s-skeleton-block",{"s-skeleton-animated":s,"s-skeleton-round":n},t);return h("div",{...i,className:a,children:c})},In=e=>{const{className:t,size:s,style:n,round:c=!0,...i}=e,a=V("s-skeleton-avatar",t),m={...n,width:s,height:s};return h(ot,{...i,round:c,className:a,style:m})},Dn=e=>{const{className:t,style:s,width:n,...c}=e,i=V("s-skeleton-title",t),a={...s,width:n};return h(ot,{...c,className:i,style:a})},An=e=>{const{className:t,rows:s=3,animated:n,round:c,...i}=e,a=V("s-skeleton-paragraph",t);return h("div",{...i,className:a,children:Array(s).fill(0).map((m,l)=>h(ot,{className:"s-skeleton-row",animated:n,round:c},l))})},lt=e=>{const{className:t,children:s,rows:n=3,title:c=!1,avatar:i=!1,avatarSize:a=32,avatarRound:m=!0,round:l=!1,loading:u=!0,animated:o=!1,...d}=e,f=V("s-skeleton",t);return h(we,{children:u?z("div",{...d,className:f,children:[i&&h(In,{size:a,animated:o,round:m}),z("div",{className:"s-skeleton-content",children:[c&&h(Dn,{animated:o,round:l}),h(An,{rows:n,animated:o,round:l})]})]}):s})};lt.Block=ot;lt.Avatar=In;lt.Title=Dn;lt.Paragraph=An;const Zr={finish:"check-circle-fill",process:"circle",wait:"circle",error:"x-circle"},Jr=e=>{const{className:t,children:s,icon:n,status:c="wait",lineColor:i,disabled:a=!1,onClick:m,...l}=e,u=f=>{a||m==null||m(f)},o=V("s-steps-step",`s-steps-${c}`,{"s-steps-disabled":a},t),d={backgroundColor:i};return z("div",{...l,className:o,onClick:u,children:[z("div",{className:"s-steps-header",children:[h("div",{className:"s-steps-line s-steps-line-before",style:d}),h("div",{className:"s-steps-icon",children:typeof n=="function"?n(c):n??h(ue,{prefix:"si",name:Zr[c]})}),h("div",{className:"s-steps-line s-steps-line-after",style:d})]}),h("div",{className:"s-steps-body",children:typeof s=="function"?s(c):s})]})},Qr=e=>{const{className:t,children:s,center:n=!1,vertical:c,current:i=0,status:a,lineColor:m,clickable:l,disabled:u=!1,...o}=e,d=V("s-steps",{"s-steps-vertical":c,"s-steps-center":n,"s-steps-clickable":l},t);return h("div",{...o,className:d,children:r.Children.map(s,(f,g)=>r.cloneElement(f,{status:f.props.status??(g<i?"finish":g===i?a??"process":"wait"),lineColor:f.props.lineColor??m,disabled:f.props.disabled??u}))})};Qr.Step=Jr;const ec=r.memo(e=>{const{className:t,style:s,children:n,icon:c,innerKey:i,activeKey:a,color:m,activeColor:l,badge:u,onClick:o,...d}=e,f=y=>{o==null||o(y)},g=i===a,p=V("s-tabbar-item",{"s-tabbar-item-active":g},t),v={color:g?l:m,...s};return z("div",{...d,className:p,style:v,onClick:f,children:[z("div",{className:"s-tabbar-item-icon",children:[typeof c=="function"?c(g):h(ue,{...c}),u&&h(Js,{...u,fixed:!0})]}),h("div",{className:"s-tabbar-item-text",children:n})]})}),tc=e=>{const{className:t,style:s,children:n,activeKey:c,defaultActiveKey:i,color:a,activeColor:m,fixed:l=!0,zIndex:u,onChange:o,...d}=e,[f,g]=ve(e,{defaultValuePropName:"defaultActiveKey",valuePropName:"activeKey"}),p=(b,x,w)=>{var C,S;g(b),(S=(C=x.props)==null?void 0:C.onClick)==null||S.call(C,w)},v=V("s-tabbar",{"s-tabbar-fixed":l},t),y={zIndex:l?u:"",...s};return h("div",{...d,className:v,style:y,children:r.Children.map(n,(b,x)=>{const w=b.key??x;return r.cloneElement(b,{...Pt(b.props,e,["color","activeColor"]),innerKey:w,activeKey:f,onClick:C=>p(w,b,C)})})})};tc.Item=ec;const ze={},Mn=e=>ct(Te,e,ze,"toast"),ut=(e,t={},s="text")=>{var i,a;Qt(e)?t=e:t.title=e,t.type=s;const{id:n="toast"}=t,c=ze[n];c?((i=c.current)==null||i.reset(),(a=c.current)==null||a.show(t)):at(n,Mn,ze,t)},nc=(e,t)=>{ut(e,t)},sc=(e,t)=>{ut(e,t,"success")},rc=(e,t)=>{ut(e,t,"fail")},cc=(e,t)=>{ut(e,t,"loading")},ac=(e="toast")=>{var t,s;(s=(t=ze[e])==null?void 0:t.current)==null||s.hide()},ic=()=>{Object.keys(ze).forEach(e=>{var t,s;return(s=(t=ze[e])==null?void 0:t.current)==null?void 0:s.hide()})},Te=r.forwardRef((e,t)=>{const{className:s,type:n="text",title:c,icon:i,loadingProps:a,duration:m=2e3,onTimeout:l,visible:u=!1,onVisible:o,popupProps:d={},...f}=e,{mask:g=!1,placement:p="center-fade",lockScroll:v=!1,...y}=d,{reset:b,clear:x}=st(()=>{l==null||l(),o==null||o(!1)},m,()=>n!=="loading");r.useEffect(()=>{u?b():x()},[u]),r.useEffect(()=>{b()},[m,n]),r.useImperativeHandle(t,()=>({reset:b,clear:x}));const w=V("s-toast",{"s-toast-text":n==="text"&&!i},s);return h(Me,{...y,visible:u,placement:p,lockScroll:v,mask:g,children:z("div",{...f,className:w,children:[(n!=="text"||i)&&h("div",{className:"s-toast-icon",children:i||(n==="loading"?h(At,{...a}):h(ue,{prefix:"si",name:n,size:"1em"}))}),h("div",{className:"s-toast-title",children:c})]})})});Te.show=nc;Te.success=sc;Te.fail=rc;Te.loading=cc;Te.hide=ac;Te.hideAll=ic;Te.Agent=Mn;const St=({isImage:e,file:t,url:s,content:n})=>e||t&&t.type.indexOf("image")===0||s&&Qn(s)||typeof n=="string"&&n.indexOf("data:image")===0,kn=e=>{const{className:t,children:s,index:n,imageFit:c,removable:i=!0,remove:a,beforeRemove:m,onRemove:l,disabled:u,readOnly:o,file:d,name:f,url:g,isImage:p,status:v,message:y,content:b,onClick:x,...w}=e,C=E=>{if(!i||u||o)return;E.stopPropagation();function N(){l==null||l(n)}if(m){const H=m(n);if(!H)return;if(H instanceof Promise){H.then(()=>{N()}).catch(()=>{});return}}N()},S=V("s-upload-preview",t);return z("div",{...w,className:S,onClick:()=>x==null?void 0:x(n),children:[St(e)?h("img",{className:"s-upload-preview-image",src:g||b}):z("div",{className:"s-upload-preview-file",children:[h(ue,{className:"s-upload-preview-file-icon",prefix:"si",name:"file-earmark-text"}),h("div",{className:"s-upload-preview-file-name",children:f||(d==null?void 0:d.name)})]}),(v==="uploading"||v==="failed")&&z("div",{className:"s-upload-preview-status",children:[z("div",{className:"s-upload-preview-status-icon",children:[v==="uploading"&&h(At,{}),v==="failed"&&h(ue,{prefix:"si",name:"x-circle"})]}),y&&h("div",{className:"s-upload-preview-status-message",children:y})]}),i&&!u&&!o&&v!=="uploading"&&h("div",{className:"s-upload-preview-remove",onClick:C,children:a??h("div",{className:"s-upload-preview-close",children:h(ue,{prefix:"si",name:"close"})})})]})},oc=e=>{const{className:t,children:s,multiple:n,accept:c,capture:i,previewList:a,defaultPreviewList:m,maxCount:l=Number.MAX_SAFE_INTEGER,maxSize:u=Number.MAX_SAFE_INTEGER,overSize:o,select:d,resultType:f="dataUrl",disabled:g,readOnly:p,beforeRead:v,afterRead:y,onChange:b,removable:x=!0,remove:w,beforeRemove:C,onRemove:S,...E}=e,N=r.useRef(null),[H,_]=ve(e,{defaultValuePropName:"defaultPreviewList",valuePropName:"previewList",defaultValue:[]}),A=()=>{N.current&&(N.current.value="")},I=(T,k)=>{const X=l-H.length;T.length>X&&(T=T.slice(0,X)),k(T)},P=(T,k)=>{Promise.allSettled(T.map(X=>new Promise((J,ee)=>{if(v){const $=v(X);if(!$){A(),ee();return}if($ instanceof Promise){$.then(R=>{J(R instanceof File?R:X)}).catch(()=>{A(),ee()});return}}J(X)}))).then(X=>{const J=X.filter(ee=>ee.status==="fulfilled").map(ee=>ee.value);k(J)})},D=(T,k)=>{A(),Promise.all(T.map(X=>es(X,f))).then(X=>{const J=T.map((ee,$)=>{const R={file:ee};return X[$]&&(R.content=X[$]),R});k(J)})},B=(T,k)=>{const X=[],J=[];T.forEach(ee=>{const $=ee.file;typeof u=="function"&&u($)||$.size>u?J.push(ee):X.push(ee)}),J.length&&(n?o==null||o(J):o==null||o(J[0])),X.length&&(_([...H,...X]),k(X))},O=T=>{n?y==null||y(T):y==null||y(T[0])},K=()=>{var J;const T=(J=N.current)==null?void 0:J.files;if(g||!T||T.length===0)return;const k=[...T];[I,P,D,B,O].reduceRight((ee,$)=>R=>{$(R,ee)},()=>{})(k)},W=M((T,k)=>{var J;const X=H.filter((ee,$)=>$!==T);a==null&&_(X),b==null||b(X),(J=k.onRemove)==null||J.call(k,T),S==null||S(T)}),L=M(T=>{const k=H[T];if(!St(k))return;const X=H.filter($=>St($)),J=X.findIndex($=>$===k),ee=X.map($=>$.url||$.content);Vt.show({images:ee,defaultIndex:J})}),te=V("s-upload",{"s-upload-disabled":g,"s-upload-readonly":p},t),Q=()=>!g&&h("input",{ref:N,className:"s-upload-input",type:"file",multiple:n,accept:c,capture:i,disabled:g,onChange:K});return z("div",{...E,className:te,children:[s&&!p&&H.length<l&&z("div",{className:"s-upload-input-wrapper",children:[s,Q()]}),z("div",{className:"s-upload-wrapper",children:[H.map((T,k)=>r.createElement(kn,{...T,key:k,index:k,disabled:g,readOnly:p,removable:T.removable??x,remove:T.remove??w,beforeRemove:T.beforeRemove??C,onRemove:X=>W(X,T),onClick:L})),!s&&!p&&H.length<l&&z("div",{className:"s-upload-select",children:[d??h(ue,{prefix:"si",name:"plus"}),Q()]})]})]})};oc.Preview=kn;export{gn as A,Pe as B,vc as C,mc as D,kr as E,Er as F,pc as G,Qr as H,ue as I,tc as J,ir as K,At as L,Ue as M,Vr as N,xn as O,Ze as P,Re as Q,gr as R,kt as S,Te as T,oc as U,qr as V,lt as W,Sn as X,Ks as Y,pn as Z,xt as _,yc as a,xc as b,lr as c,mr as d,M as e,Nc as f,Zn as g,Ur as h,ve as i,He as j,Ts as k,Ds as l,pe as m,Ke as n,Fe as o,xe as p,Rs as q,hc as r,gc as s,Me as t,$s as u,Js as v,js as w,vn as x,bc as y,Vt as z};
