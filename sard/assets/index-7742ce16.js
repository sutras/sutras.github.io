import{r,j as J,a}from"./index-093297df.js";import{c as h}from"./index-2e4736b8.js";import{i as K,e as o,j as P,k as R,l as _,I as g,b as L,m as Q}from"./index-c0b255c8.js";const ne=f=>{const{className:j,children:Y,inputWidth:v,value:c,defaultValue:y,min:b=Number.MIN_SAFE_INTEGER,max:I=Number.MAX_SAFE_INTEGER,step:F=1,precision:N,placeholder:T,disabled:s,readOnly:n,press:E=!0,interval:A=150,onChange:Z,onBlur:u,onFocus:D,...k}=f,[t,w]=K(f),[i,p]=r.useState(c??y??"");r.useEffect(()=>{c!=null&&p(c)},[c]);const S=e=>{w(e),p(e)},x=o(e=>(e=Q(e,b,I),N!=null&&(e=+e.toFixed(N)),e)),l=o(e=>{S(x((t||0)+F*e))}),G=()=>{!s&&!n&&l(-1)},M=()=>{!s&&!n&&l(1)},d=r.useRef(0),m=r.useRef(0);r.useEffect(()=>()=>{clearInterval(d.current),clearInterval(m.current)},[]);const C=o(e=>{l(e);const B=setInterval(()=>{l(e)},A);e>0?m.current=B:d.current=B}),V=o(e=>{clearInterval(e>0?m.current:d.current)}),O=P(e=>{e.on(R,()=>C(-1)),e.on(_,()=>V(-1))},{press:!0},E&&!s&&!n),U=P(e=>{e.on(R,()=>C(1)),e.on(_,()=>V(1))},{press:!0},E&&!s&&!n),W=e=>{p(e)},X=e=>{S(i===""?void 0:x(Number(i)||0)),u==null||u(e)},q=h("s-stepper",{"s-stepper-disabled":s,"s-stepper-readonly":n},j),z=h("s-stepper-button s-stepper-decrease",{"s-stepper-button-disabled":t!=null&&t<=b}),H=h("s-stepper-button s-stepper-increase",{"s-stepper-button-disabled":t!=null&&t>=I});return J("div",{...k,className:q,children:[a("button",{...O,className:z,onClick:G,disabled:s,children:a(g,{prefix:"si",name:"minus"})}),a(L,{className:"s-stepper-input",placeholder:T,style:{width:v},value:i,onChange:W,onBlur:X,onFocus:D,disabled:s,readOnly:n}),a("button",{...U,className:H,onClick:M,disabled:s,children:a(g,{prefix:"si",name:"plus"})})]})};export{ne as S};
