import{r as t,j as K,a}from"./index-b9ddf759.js";import{c as f}from"./index-2e4736b8.js";import{u as L,f as u,g as y,h as P,i as _,I as B,b as Q,m as Y}from"./index-cef2ca44.js";const ne=b=>{const{className:j,children:Z,inputWidth:F,value:o,defaultValue:T,min:h=Number.MIN_SAFE_INTEGER,max:I=Number.MAX_SAFE_INTEGER,step:A=1,precision:N,placeholder:D,disabled:s,readOnly:n,press:w=!0,interval:G=150,onChange:$,onBlur:i,onFocus:M,...O}=b,[r,U]=L(b),[l,p]=t.useState(o??T??"");t.useEffect(()=>{o!==void 0&&p(o)},[o]);const E=e=>{U(e),p(e)},S=u(e=>(e=Y(e,h,I),N!==void 0&&(e=+e.toFixed(N)),e)),c=u(e=>{E(S((r||0)+A*e))}),W=()=>{!s&&!n&&c(-1)},k=()=>{!s&&!n&&c(1)},d=t.useRef(0),m=t.useRef(0);t.useEffect(()=>()=>{clearInterval(d.current),clearInterval(m.current)},[]);const R=u(e=>{c(e);const g=setInterval(()=>{c(e)},G);e>0?m.current=g:d.current=g}),v=u(e=>{clearInterval(e>0?m.current:d.current)}),x=w&&!s&&!n,C=t.useRef(),V=t.useRef();y(C,e=>{e.on(P,()=>R(-1)),e.on(_,()=>v(-1))},{press:!0},{binding:x}),y(V,e=>{e.on(P,()=>R(1)),e.on(_,()=>v(1))},{press:!0},{binding:x});const X=e=>{p(e)},q=e=>{E(l===""?void 0:S(Number(l)||0)),i==null||i(e)},z=f("s-stepper",{"s-stepper-disabled":s,"s-stepper-readonly":n},j),H=f("s-stepper-button s-stepper-decrease",{"s-stepper-button-disabled":r!==void 0&&r<=h}),J=f("s-stepper-button s-stepper-increase",{"s-stepper-button-disabled":r!==void 0&&r>=I});return K("div",{...O,className:z,children:[a("button",{type:"button",ref:C,className:H,onClick:W,disabled:s,children:a(B,{prefix:"si",name:"minus"})}),a(Q,{className:"s-stepper-input",placeholder:D,style:{width:F},value:l,onChange:X,onBlur:q,onFocus:M,disabled:s,readOnly:n}),a("button",{type:"button",ref:V,className:J,onClick:k,disabled:s,children:a(B,{prefix:"si",name:"plus"})})]})};export{ne as S};
