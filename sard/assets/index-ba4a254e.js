import{p as H,r as n,q as J,s as o,t as g,v as P,w as _,c as m,j as K,a,I as B,h as Q,x as Y}from"./index-be529937.js";const te=b=>{const{className:j,children:Z,inputWidth:F,value:f,defaultValue:$,min:h=Number.MIN_SAFE_INTEGER,max:N=Number.MAX_SAFE_INTEGER,step:T=1,precision:I,placeholder:w,disabled:t,readOnly:r,press:A=!0,interval:D=150,onChange:ee,onBlur:u,onFocus:U,...G}=b,[s,M]=H(b),[l,i]=n.useState(s);J(()=>{i(f)},[f]);const S=e=>{M(e),i(e)},E=o(e=>(e=Y(e,h,N),I!==void 0&&(e=+e.toFixed(I)),e)),c=o(e=>{S(E((Number(s)||0)+T*e))}),O=()=>{!t&&!r&&c(-1)},W=()=>{!t&&!r&&c(1)},p=n.useRef(0),d=n.useRef(0);n.useEffect(()=>()=>{clearInterval(p.current),clearInterval(d.current)},[]);const x=o(e=>{c(e);const y=setInterval(()=>{c(e)},D);e>0?d.current=y:p.current=y}),R=o(e=>{clearInterval(e>0?d.current:p.current)}),C=A&&!t&&!r,v=n.useRef(),V=n.useRef();g(v,e=>{e.on(P,()=>x(-1)),e.on(_,()=>R(-1))},{press:!0},{binding:C}),g(V,e=>{e.on(P,()=>x(1)),e.on(_,()=>R(1))},{press:!0},{binding:C});const k=e=>{i(e)},q=e=>{S(l?E(Number(l)||0):null),u==null||u(e)},L=m("s-stepper",{"s-stepper-disabled":t,"s-stepper-readonly":r},j),X=m("s-stepper-button s-stepper-decrease",{"s-stepper-button-disabled":s!=null&&s<=h}),z=m("s-stepper-button s-stepper-increase",{"s-stepper-button-disabled":s!=null&&s>=N});return K("div",{...G,className:L,children:[a("button",{type:"button",ref:v,className:X,onClick:O,disabled:t,children:a(B,{prefix:"si",name:"minus"})}),a(Q,{className:"s-stepper-input",placeholder:w,style:{width:F},value:String(l??""),onChange:k,onBlur:q,onFocus:U,disabled:t,readOnly:r}),a("button",{type:"button",ref:V,className:z,onClick:W,disabled:t,children:a(B,{prefix:"si",name:"plus"})})]})};export{te as S};
