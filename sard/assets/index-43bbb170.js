import{p as C,r as l,q as I,G as U,c as A,j as d,F as W,a as r,H as Y,B as T,I as j}from"./index-ba304632.js";const le=u=>{const{className:F,children:K,title:N,cancelText:L="取消",cancelProps:R,confirmText:_="完成",confirmProps:B,value:Z,defaultValue:$,onKeyClick:m,onChange:ee,onDelete:b,visible:re,defaultVisible:ae,onVisible:se,onClose:a,onCancel:f,onConfirm:p,extraKey:t,random:v,maxLength:G=Number.MAX_SAFE_INTEGER,popupProps:M={},hideType:y="click",triggerProp:x="onClick",focusedProp:V,...S}=u,{placement:q="bottom",mask:H=!1,lockScroll:X=!1,...w}=M,[h,P]=C(u,{defaultValue:""}),g=e=>{h.length>=G||(P(h+e),m==null||m(e))},z=()=>{P(h.slice(0,-1)),b==null||b()},[c,i]=C(u,{defaultValuePropName:"defaultVisible",valuePropName:"visible",trigger:"onVisible",defaultValue:!1}),k=l.useRef(null),D=I(()=>{i(!1),f==null||f(!1),a==null||a(!1)}),J=I(()=>{i(!1),p==null||p(!1),a==null||a(!1)});l.useEffect(()=>{if(!c)return;const e=s=>{k.current&&(k.current.contains(s.target)||i(!1))};return document.addEventListener(y,e,!0),()=>{document.removeEventListener(y,e,!0)}},[y,c]);const O=l.useMemo(()=>{const e=Array(10).fill(0).map((s,o)=>(o+1)%10);return v&&U(e,!0),e},[v]),Q=A("s-number-keyboard",{"s-number-keyboard-has-extra":t!==void 0},F);let n;try{n=l.Children.only(K)}catch{}return d(W,{children:[n&&(()=>{const e={...n.props,[x]:(...s)=>{var o,E;i(!0),(E=(o=n.props)[x])==null||E.call(o,...s)}};return V&&(e[V]=c),l.cloneElement(n,e)})(),r(Y,{...w,visible:c,placement:q,mask:H,lockScroll:X,children:d("div",{...S,className:Q,ref:k,children:[d("div",{className:"s-number-keyboard-header",children:[r(T,{className:"s-number-keyboard-cancel s-number-keyboard-button",type:"pale-text",theme:"secondary",...R,onClick:D,children:L??r(j,{prefix:"si",name:"keyboard-hide",className:"s-number-keyboard-hide"})}),N&&r("div",{className:"s-number-keyboard-title",children:N}),r(T,{className:"s-number-keyboard-confirm s-number-keyboard-button",type:"pale-text",theme:"primary",...B,onClick:J,children:_})]}),d("div",{className:"s-number-keyboard-body",children:[O.map((e,s)=>r("div",{className:A("s-number-keyboard-key",{"s-number-keyboard-key-lastnum":s===9}),onClick:()=>g(e+""),children:e},e)),t&&r("div",{className:"s-number-keyboard-key",onClick:()=>g(t+""),children:t}),r("div",{className:"s-number-keyboard-key",onClick:z,children:r(j,{prefix:"si",name:"backspace"})})]})]})})]})};export{le as N};
