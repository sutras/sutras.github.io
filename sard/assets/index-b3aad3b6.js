import{p as K,r as t,q as u,s as P,t as _,v as g,c as f,j as L,a,I as B,h as Q,w as Y}from"./index-ba304632.js";const se=h=>{const{className:j,children:Z,inputWidth:F,value:c,defaultValue:T,min:b=Number.MIN_SAFE_INTEGER,max:I=Number.MAX_SAFE_INTEGER,step:w=1,precision:N,placeholder:A,disabled:s,readOnly:n,press:D=!0,interval:G=150,onChange:$,onBlur:i,onFocus:M,...O}=h,[r,U]=K(h),[l,p]=t.useState(c??T??"");t.useEffect(()=>{c!==void 0&&p(c)},[c]);const E=e=>{U(e),p(e)},S=u(e=>(e=Y(e,b,I),N!==void 0&&(e=+e.toFixed(N)),e)),o=u(e=>{E(S((r||0)+w*e))}),W=()=>{!s&&!n&&o(-1)},k=()=>{!s&&!n&&o(1)},d=t.useRef(0),m=t.useRef(0);t.useEffect(()=>()=>{clearInterval(d.current),clearInterval(m.current)},[]);const v=u(e=>{o(e);const y=setInterval(()=>{o(e)},G);e>0?m.current=y:d.current=y}),R=u(e=>{clearInterval(e>0?m.current:d.current)}),x=D&&!s&&!n,C=t.useRef(),V=t.useRef();P(C,e=>{e.on(_,()=>v(-1)),e.on(g,()=>R(-1))},{press:!0},{binding:x}),P(V,e=>{e.on(_,()=>v(1)),e.on(g,()=>R(1))},{press:!0},{binding:x});const q=e=>{p(e)},X=e=>{E(l===""?void 0:S(Number(l)||0)),i==null||i(e)},z=f("s-stepper",{"s-stepper-disabled":s,"s-stepper-readonly":n},j),H=f("s-stepper-button s-stepper-decrease",{"s-stepper-button-disabled":r!==void 0&&r<=b}),J=f("s-stepper-button s-stepper-increase",{"s-stepper-button-disabled":r!==void 0&&r>=I});return L("div",{...O,className:z,children:[a("button",{type:"button",ref:C,className:H,onClick:W,disabled:s,children:a(B,{prefix:"si",name:"minus"})}),a(Q,{className:"s-stepper-input",placeholder:A,style:{width:F},value:l,onChange:q,onBlur:X,onFocus:M,disabled:s,readOnly:n}),a("button",{type:"button",ref:V,className:J,onClick:k,disabled:s,children:a(B,{prefix:"si",name:"plus"})})]})};export{se as S};
